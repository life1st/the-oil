import{r as c,j as e,u as o}from"./index-Dk8Pe-UP.js";import{d as N,u as p}from"./recordStore-B6hAhEJc.js";import{C as g}from"./config-provider-BAFojZN3.js";import{d as v}from"./demoData-DANDD5Gv.js";function C(s){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},s,{style:Object.assign({verticalAlign:"-0.125em"},s.style),className:["antd-mobile-icon",s.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"EditSFill-EditSFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"EditSFill-编组"},c.createElement("rect",{id:"EditSFill-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M41.5581882,38.9405779 C41.8382044,38.9405779 41.9782122,39.0765521 41.9782122,39.3485009 L41.9782122,41.592077 C41.9782122,41.8640258 41.8382044,42 41.5581882,42 L24.5472085,42 C24.2671923,42 24.1271844,41.8640258 24.1271844,41.592077 L24.1271844,39.3485009 C24.1271844,39.0765521 24.2671923,38.9405779 24.5472085,38.9405779 L41.5581882,38.9405779 Z M27.5325522,13.8391031 L34.9564907,21.0501177 C35.3664155,21.4483524 35.3664155,22.0938928 34.9564908,22.4921247 L15.217454,41.6645312 C15.0204038,41.8554216 14.7533811,41.9623153 14.4750596,41.9623153 L8.10012595,41.9623153 C6.9402636,41.9623153 6.00000168,41.0491486 6.00000168,39.9226974 L6.00000168,33.7324869 C5.99950341,33.4618321 6.1098059,33.2020832 6.30661496,33.010458 L26.0477683,13.8391032 C26.4578166,13.4409884 27.1225068,13.4409884 27.5325522,13.8391031 Z M41.5581882,32.8217298 C41.8382044,32.8217298 41.9782122,32.957704 41.9782122,33.2296528 L41.9782122,35.4732289 C41.9782122,35.7451777 41.8382044,35.8811519 41.5581882,35.8811519 L32.9477087,35.8811519 C32.6676925,35.8811519 32.5276846,35.7451777 32.5276846,35.4732289 L32.5276846,33.2296528 C32.5276846,32.957704 32.6676925,32.8217298 32.9477087,32.8217298 L41.5581882,32.8217298 Z M40.1542565,8.79202516 L40.15429,8.7910055 C42.614941,11.1803631 42.6152806,15.0546026 40.1550449,17.4443474 C40.1547933,17.4445917 40.1545418,17.444836 40.1542903,17.4450802 L38.6695064,18.8870871 C38.2911871,19.2549161 37.6955751,19.2835165 37.2834679,18.9726724 L37.1844961,18.8878895 C37.1842206,18.8876222 37.1839453,18.8873548 37.1836701,18.8870872 L29.7597261,11.6750209 C29.3498014,11.2767862 29.3498014,10.6312458 29.759726,10.233014 L31.2445098,8.79202539 C33.7049196,6.40265824 37.6938664,6.40265824 40.1542565,8.79202516 Z",id:"EditSFill-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}const E=({oilConsumption:s=7.8,electricConsumption:n=15.2,cost:r=358.5,mileage:a=426,onClick:l})=>e.jsx("div",{className:"consumption-item",onClick:l,children:e.jsxs("div",{className:"consumption-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("p",{className:"label",children:"油耗："}),e.jsxs("span",{className:"value",children:[s,e.jsx("span",{className:"unit",children:"L/100km"})]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("p",{className:"label",children:"电耗："}),e.jsxs("span",{className:"value",children:[n,e.jsx("span",{className:"unit",children:"kWh/100km"})]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("p",{className:"label",children:"费用："}),e.jsxs("span",{className:"value",children:["¥",r]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("p",{className:"label",children:"里程："}),e.jsxs("span",{className:"value",children:[a,"km"]})]})]})}),w={charging:"充电",refueling:"加油"},d={charging:"kWh",refueling:"L"},L=s=>{const n=o(),{id:r,type:a="charging",date:l="2024-02-28",cost:i=0,electric:m=0,oil:h=0,kilometerOfDisplay:x=0,onClick:j}=s,t=m||h,u=()=>{n(`/record/${String(r)}`)};return e.jsx(g,{children:e.jsxs("div",{className:`energy-record-item ${a}`,onClick:j,children:[e.jsx("div",{className:"actions",children:e.jsx(C,{onClick:u})}),e.jsxs("div",{className:"record-header",children:[e.jsx("span",{className:"energy-type",children:w[a]}),e.jsx("span",{className:"record-date",children:N(l).format("YYYY.MM.DD")})]}),e.jsxs("div",{className:"record-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"数量："}),e.jsxs("span",{className:"value",children:[t,d[a]]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"费用："}),e.jsxs("span",{className:"value",children:["¥",i]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"单价："}),e.jsxs("span",{className:"value",children:["¥",(i/t).toFixed(2),"/",d[a]]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"行驶里程："}),e.jsxs("span",{className:"value",children:[x,"km"]})]})]})]})})},b=()=>{const{recordList:s}=p();o();const n=(s==null?void 0:s.length)>0,r=c.useMemo(()=>(n?s:v).sort((l,i)=>new Date(i.date).getTime()-new Date(l.date).getTime()).map(l=>({type:"energy",data:l})),[s]);return e.jsx("div",{className:"home-container",children:e.jsxs("section",{className:"section",children:[e.jsxs("h2",{children:["补能统计",!n&&"(DEMO MODE)"]}),e.jsx("div",{className:"energy-list",children:r.map(({type:a,data:l},i)=>a==="consumption"?e.jsx(E,{...l,onClick:()=>{console.log("consumption clicked:",l)}},i):e.jsx(L,{...l,onClick:()=>{console.log("energy clicked:",l)}},i))})]})})};export{b as default};
