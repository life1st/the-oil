var hr;(function(e){e.GET_DATA="ui-bg-get-data",e.GET_DEVTOOLS_DATA="ui-bg-get-devtools-data",e.SUBSCRIBE_TO_CHANGES="ui-bg-subscribe-to-changes",e.UNSUBSCRIBE_FROM_CHANGES="ui-bg-unsubscribe-from-changes",e.CHANGE_SETTINGS="ui-bg-change-settings",e.SET_THEME="ui-bg-set-theme",e.TOGGLE_ACTIVE_TAB="ui-bg-toggle-active-tab",e.MARK_NEWS_AS_READ="ui-bg-mark-news-as-read",e.MARK_NEWS_AS_DISPLAYED="ui-bg-mark-news-as-displayed",e.LOAD_CONFIG="ui-bg-load-config",e.APPLY_DEV_DYNAMIC_THEME_FIXES="ui-bg-apply-dev-dynamic-theme-fixes",e.RESET_DEV_DYNAMIC_THEME_FIXES="ui-bg-reset-dev-dynamic-theme-fixes",e.APPLY_DEV_INVERSION_FIXES="ui-bg-apply-dev-inversion-fixes",e.RESET_DEV_INVERSION_FIXES="ui-bg-reset-dev-inversion-fixes",e.APPLY_DEV_STATIC_THEMES="ui-bg-apply-dev-static-themes",e.RESET_DEV_STATIC_THEMES="ui-bg-reset-dev-static-themes",e.COLOR_SCHEME_CHANGE="ui-bg-color-scheme-change",e.HIDE_HIGHLIGHTS="ui-bg-hide-highlights"})(hr||(hr={}));var gr;(function(e){e.CHANGES="bg-ui-changes"})(gr||(gr={}));var mr;(function(e){e.CSS_UPDATE="debug-bg-ui-css-update",e.UPDATE="debug-bg-ui-update"})(mr||(mr={}));var ut;(function(e){e.ADD_CSS_FILTER="bg-cs-add-css-filter",e.ADD_DYNAMIC_THEME="bg-cs-add-dynamic-theme",e.ADD_STATIC_THEME="bg-cs-add-static-theme",e.ADD_SVG_FILTER="bg-cs-add-svg-filter",e.CLEAN_UP="bg-cs-clean-up",e.FETCH_RESPONSE="bg-cs-fetch-response",e.UNSUPPORTED_SENDER="bg-cs-unsupported-sender"})(ut||(ut={}));var pr;(function(e){e.RELOAD="debug-bg-cs-reload"})(pr||(pr={}));var Ot;(function(e){e.COLOR_SCHEME_CHANGE="cs-bg-color-scheme-change",e.DARK_THEME_DETECTED="cs-bg-dark-theme-detected",e.DARK_THEME_NOT_DETECTED="cs-bg-dark-theme-not-detected",e.FETCH="cs-bg-fetch",e.DOCUMENT_CONNECT="cs-bg-document-connect",e.DOCUMENT_FORGET="cs-bg-document-forget",e.DOCUMENT_FREEZE="cs-bg-document-freeze",e.DOCUMENT_RESUME="cs-bg-document-resume"})(Ot||(Ot={}));var br;(function(e){e.LOG="debug-cs-bg-log"})(br||(br={}));var Sr;(function(e){e.EXPORT_CSS_RESPONSE="cs-ui-export-css-response"})(Sr||(Sr={}));var yr;(function(e){e.EXPORT_CSS="ui-cs-export-css"})(yr||(yr={}));const Wn=typeof navigator<"u",ge=Wn?navigator.userAgentData&&Array.isArray(navigator.userAgentData.brands)?navigator.userAgentData.brands.map(e=>`${e.brand.toLowerCase()} ${e.version}`).join(" "):navigator.userAgent.toLowerCase():"some useragent",Xr=Wn?navigator.userAgentData&&typeof navigator.userAgentData.platform=="string"?navigator.userAgentData.platform.toLowerCase():navigator.platform.toLowerCase():"some platform",Nn=ge.includes("chrome")||ge.includes("chromium"),gt=ge.includes("firefox")||ge.includes("thunderbird")||ge.includes("librewolf"),Pt=ge.includes("safari")&&!Nn,fo=Xr.startsWith("win"),ho=Xr.startsWith("mac");Wn&&navigator.userAgentData?navigator.userAgentData.mobile:ge.includes("mobile");const Jr=typeof ShadowRoot=="function",wr=typeof MediaQueryList=="function"&&typeof MediaQueryList.prototype.addEventListener=="function",Zr=typeof CSSLayerBlockRule=="function";(()=>{const e=ge.match(/chrom(?:e|ium)(?:\/| )([^ ]+)/);return e&&e[1]?e[1]:""})();(()=>{const e=ge.match(/(?:firefox|librewolf)(?:\/| )([^ ]+)/);return e&&e[1]?e[1]:""})();const go=(()=>{try{return document.querySelector(":defined"),!0}catch{return!1}})(),es=(()=>{try{if(typeof document>"u")return!1;const e=document.createElement("div");return!e||typeof e.style!="object"?!1:typeof e.style.colorScheme=="string"?!0:(e.setAttribute("style","color-scheme: dark"),e.style.colorScheme==="dark")}catch{return!1}})();async function Hn(e,t,n){const r=n&&e.startsWith(`${n}/`)?void 0:"omit",s=await fetch(e,{cache:"force-cache",credentials:r,referrer:n});if(gt&&t==="text/css"&&e.startsWith("moz-extension://")&&e.endsWith(".css"))return s;if(t&&!s.headers.get("Content-Type").startsWith(t))throw new Error(`Mime type mismatch when loading ${e}`);if(!s.ok)throw new Error(`Unable to load ${e} ${s.status} ${s.statusText}`);return s}async function mo(e,t){const n=await Hn(e,t);return await ts(n)}async function po(e,t){return await(await Hn(e,t)).blob()}async function ts(e){const t=await e.blob();return await new Promise(r=>{const s=new FileReader;s.onloadend=()=>r(s.result),s.readAsDataURL(t)})}async function bo(e,t,n){return await(await Hn(e,t,n)).text()}const So=async e=>Promise.reject(new Error(["Embedded Dark Reader cannot access a cross-origin resource",e,"Overview your URLs and CORS policies or use","`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkReader.setFetchMethod(window.fetch)`","before `DarkReader.enable()` works."].join(" ")));let yo=So;async function wo(e){return await yo(e)}window.chrome||(window.chrome={});chrome.runtime||(chrome.runtime={});const mn=new Set;async function kr(...e){if(e[0]&&e[0].type===Ot.FETCH){const{id:t}=e[0];try{const{url:n,responseType:r}=e[0].data,s=await wo(n);let a;r==="data-url"?a=await ts(s):a=await s.text(),mn.forEach(o=>o({type:ut.FETCH_RESPONSE,data:a,error:null,id:t}))}catch(n){console.error(n),mn.forEach(r=>r({type:ut.FETCH_RESPONSE,data:null,error:n,id:t}))}}}function xr(e){mn.add(e)}if(typeof chrome.runtime.sendMessage=="function"){const e=chrome.runtime.sendMessage;chrome.runtime.sendMessage=(...t)=>{kr(...t),e.apply(chrome.runtime,t)}}else chrome.runtime.sendMessage=kr;chrome.runtime.onMessage||(chrome.runtime.onMessage={});if(typeof chrome.runtime.onMessage.addListener=="function"){const e=chrome.runtime.onMessage.addListener;chrome.runtime.onMessage.addListener=(...t)=>{xr(t[0]),e.apply(chrome.runtime.onMessage,t)}}else chrome.runtime.onMessage.addListener=(...e)=>xr(e[0]);var Ge;(function(e){e.cssFilter="cssFilter",e.svgFilter="svgFilter",e.staticTheme="staticTheme",e.dynamicTheme="dynamicTheme"})(Ge||(Ge={}));var pn;(function(e){e.NONE="",e.TIME="time",e.SYSTEM="system",e.LOCATION="location"})(pn||(pn={}));const bt={darkScheme:{background:"#181a1b",text:"#e8e6e3"},lightScheme:{background:"#dcdad7",text:"#181a1b"}},ns={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:ho?"Helvetica Neue":fo?"Segoe UI":"Open Sans",textStroke:0,engine:Ge.dynamicTheme,stylesheet:"",darkSchemeBackgroundColor:bt.darkScheme.background,darkSchemeTextColor:bt.darkScheme.text,lightSchemeBackgroundColor:bt.lightScheme.background,lightSchemeTextColor:bt.lightScheme.text,scrollbarColor:"",selectionColor:"auto",styleSystemControls:!es,lightColorScheme:"Default",darkColorScheme:"Default",immediateModify:!1},ko=["*.officeapps.live.com","*.sharepoint.com","docs.google.com","onedrive.live.com"];ko.map(e=>{const t=Nn?Ge.svgFilter:Ge.cssFilter;return{url:[e],theme:{...ns,engine:t},builtIn:!0}}),pn.NONE;function bn(e,t,n=0){const r=[];let s;for(;s=e.exec(t);)r.push(s[n]);return r}function xo(e,t,n=0){const r=[];let s;for(;s=e.exec(t);)r.push({text:s[n],offset:s.index});return r}function rs(e){const t=e.length;let n=0;for(let r=0;r<t;r++){const s=e.charCodeAt(r);n=(n<<5)-n+s&4294967295}return n}function Eo(e){return e.replaceAll(/[\^$.*+?\(\)\[\]{}|\-\\]/g,"\\$&")}function Bn(e,t=0){return Co(e,t,"(",")",[])}function Co(e,t,n,r,s){let a;s.length===0?a=(l,d)=>e.indexOf(l,d):a=(l,d)=>ss(e,l,d,s);const{length:o}=e;let i=0,c=-1;for(let l=t;l<o;l++)if(i===0){const d=a(n,l);if(d<0)break;c=d,i++,l=d}else{const d=a(r,l);if(d<0)break;const h=a(n,l);if(h<0||d<=h){if(i--,i===0)return{start:c,end:d+1};l=d}else i++,l=h}return null}function ss(e,t,n,r){const s=e.indexOf(t,n),a=r.find(o=>s>=o.start&&s<o.end);return a?ss(e,t,a.end,r):s}let St;const st=new Map;function Er(e){return St||(St=document.createElement("a")),St.href=e,St.href}function It(e,t=null){const n=`${e}${t?`;${t}`:""}`;if(st.has(n))return st.get(n);if(t){const s=new URL(e,Er(t));return st.set(n,s),s}const r=new URL(Er(e));return st.set(e,r),r}function Kt(e,t){if(t.match(/^data\\?\:/))return t;if(/^\/\//.test(t))return`${location.protocol}${t}`;const n=It(e);return It(t,n.href).href}function Ro(e){if(e.startsWith("data:"))return!0;const t=It(e);return t.protocol!==location.protocol||t.hostname!==location.hostname||t.port!==location.port?!1:t.pathname===location.pathname}const vo=["pre","pre *","code",'[aria-hidden="true"]','[class*="fa-"]',".fa",".fab",".fad",".fal",".far",".fas",".fass",".fasr",".fat",".icofont",'[style*="font-"]','[class*="icon"]','[class*="Icon"]','[class*="symbol"]','[class*="Symbol"]',".glyphicon",'[class*="material-symbol"]','[class*="material-icon"]',"mu",'[class*="mu-"]',".typcn",'[class*="vjs-"]'];function _o(e){const t=[];return t.push(`*:not(${vo.join(", ")}) {`),e.useFont&&e.fontFamily&&t.push(`  font-family: ${e.fontFamily} !important;`),e.textStroke>0&&(t.push(`  -webkit-text-stroke: ${e.textStroke}px !important;`),t.push(`  text-stroke: ${e.textStroke}px !important;`)),t.push("}"),t.join(`
`)}function Ao(e){return e.length!=null}function se(e,t){if(Ao(e))for(let n=0,r=e.length;n<r;n++)t(e[n]);else for(const n of e)t(n)}function Gn(e,t){se(t,n=>e.push(n))}function Lo(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function ae(e,t,n,r,s){return(e-t)*(s-r)/(n-t)+r}function ve(e,t,n){return Math.min(n,Math.max(t,e))}function Oe(e,t){const n=[];for(let r=0,s=e.length;r<s;r++){n[r]=[];for(let a=0,o=t[0].length;a<o;a++){let i=0;for(let c=0,l=e[0].length;c<l;c++)i+=e[r][c]*t[c][a];n[r][a]=i}}return n}function os(e){let t=Me.identity();return e.sepia!==0&&(t=Oe(t,Me.sepia(e.sepia/100))),e.grayscale!==0&&(t=Oe(t,Me.grayscale(e.grayscale/100))),e.contrast!==100&&(t=Oe(t,Me.contrast(e.contrast/100))),e.brightness!==100&&(t=Oe(t,Me.brightness(e.brightness/100))),e.mode===1&&(t=Oe(t,Me.invertNHue())),t}function To([e,t,n],r){const s=[[e/255],[t/255],[n/255],[1],[1]],a=Oe(r,s);return[0,1,2].map(o=>ve(Math.round(a[o][0]*255),0,255))}const Me={identity(){return[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]]},invertNHue(){return[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]]},brightness(e){return[[e,0,0,0,0],[0,e,0,0,0],[0,0,e,0,0],[0,0,0,1,0],[0,0,0,0,1]]},contrast(e){const t=(1-e)/2;return[[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0],[0,0,0,0,1]]},sepia(e){return[[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,0],[.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,0],[.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]},grayscale(e){return[[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]}};var Sn;(function(e){e[e.light=0]="light",e[e.dark=1]="dark"})(Sn||(Sn={}));function as(e){const t=[];return e.mode===Sn.dark&&t.push("invert(100%) hue-rotate(180deg)"),e.brightness!==100&&t.push(`brightness(${e.brightness}%)`),e.contrast!==100&&t.push(`contrast(${e.contrast}%)`),e.grayscale!==0&&t.push(`grayscale(${e.grayscale}%)`),e.sepia!==0&&t.push(`sepia(${e.sepia}%)`),t.length===0?null:t.join(" ")}function Mo(e){const t=[],n=[];let r;for(let a=0,o=e.length;a<o;a++){const i=e[a];if(!(!i||i===" ")){if(Xe.has(i)){const c=Xe.get(i);for(;n.length;){const l=Xe.get(n[0]);if(!l)break;if(c.lessOrEqualThan(l))t.push(n.shift());else break}n.unshift(i)}else!r||Xe.has(r)?t.push(i):t[t.length-1]+=i;r=i}}t.push(...n);const s=[];for(let a=0,o=t.length;a<o;a++){const i=Xe.get(t[a]);if(i){const c=s.splice(0,2);s.push(i.exec(c[1],c[0]))}else s.unshift(parseFloat(t[a]))}return s[0]}class yt{constructor(t,n){this.precendce=t,this.execMethod=n}exec(t,n){return this.execMethod(t,n)}lessOrEqualThan(t){return this.precendce<=t.precendce}}const Xe=new Map([["+",new yt(1,(e,t)=>e+t)],["-",new yt(1,(e,t)=>e-t)],["*",new yt(2,(e,t)=>e*t)],["/",new yt(2,(e,t)=>e/t)]]),Do=()=>matchMedia("(prefers-color-scheme: dark)").matches,_t=new Map,At=new Map;function q(e){if(e=e.trim(),At.has(e))return At.get(e);e.includes("calc(")&&(e=Ko(e));const t=cs(e);return t?(At.set(e,t),t):null}function Cr(e){if(_t.has(e))return _t.get(e);const t=q(e);if(!t)return null;const n=Qt(t);return _t.set(e,n),n}function Vo(){_t.clear(),At.clear()}function is({h:e,s:t,l:n,a:r=1}){if(t===0){const[d,h,S]=[n,n,n].map(v=>Math.round(v*255));return{r:d,g:S,b:h,a:r}}const s=(1-Math.abs(2*n-1))*t,a=s*(1-Math.abs(e/60%2-1)),o=n-s/2,[i,c,l]=(e<60?[s,a,0]:e<120?[a,s,0]:e<180?[0,s,a]:e<240?[0,a,s]:e<300?[a,0,s]:[s,0,a]).map(d=>Math.round((d+o)*255));return{r:i,g:c,b:l,a:r}}function Qt({r:e,g:t,b:n,a:r=1}){const s=e/255,a=t/255,o=n/255,i=Math.max(s,a,o),c=Math.min(s,a,o),l=i-c,d=(i+c)/2;if(l===0)return{h:0,s:0,l:d,a:r};let h=(i===s?(a-o)/l%6:i===a?(o-s)/l+2:(s-a)/l+4)*60;h<0&&(h+=360);const S=l/(1-Math.abs(2*d-1));return{h,s:S,l:d,a:r}}function J(e,t=0){const n=e.toFixed(t);if(t===0)return n;const r=n.indexOf(".");if(r>=0){const s=n.match(/0+$/);if(s)return s.index===r+1?n.substring(0,r):n.substring(0,s.index)}return n}function Oo(e){const{r:t,g:n,b:r,a:s}=e;return s!=null&&s<1?`rgba(${J(t)}, ${J(n)}, ${J(r)}, ${J(s,2)})`:`rgb(${J(t)}, ${J(n)}, ${J(r)})`}function jn({r:e,g:t,b:n,a:r}){return`#${(r!=null&&r<1?[e,t,n,Math.round(r*255)]:[e,t,n]).map(s=>`${s<16?"0":""}${s.toString(16)}`).join("")}`}function Rr(e){const{h:t,s:n,l:r,a:s}=e;return s!=null&&s<1?`hsla(${J(t)}, ${J(n*100)}%, ${J(r*100)}%, ${J(s,2)})`:`hsl(${J(t)}, ${J(n*100)}%, ${J(r*100)}%)`}const Po=/^rgba?\([^\(\)]+\)$/,Io=/^hsla?\([^\(\)]+\)$/,$o=/^#[0-9a-f]+$/i,Fo=["color","color-mix","hwb","lab","lch","oklab","oklch"];function cs(e){const t=e.trim().toLowerCase();if(t.includes("(from "))return Jt(t);if(t.match(Po))return t.startsWith("rgb(#")||t.startsWith("rgba(#")?Jt(t):ds(t);if(t.match(Io))return Go(t);if(t.match($o))return jo(t);if(us.has(t))return qo(t);if(fs.has(t))return zo(t);if(t==="transparent")return{r:0,g:0,b:0,a:0};if(t.endsWith(")")&&Fo.some(n=>t.startsWith(n)&&t[n.length]==="("))return Jt(t);if(t.startsWith("light-dark(")&&t.endsWith(")")){const n=t.match(/^light-dark\(\s*([a-z]+(\(.*\))?),\s*([a-z]+(\(.*\))?)\s*\)$/);if(n){const r=Do()?n[3]:n[1];return cs(r)}}return null}function Uo(e){const t=[];let n=0,r=!1;const s=e.indexOf("(");e=e.substring(s+1,e.length-1);for(let a=0;a<e.length;a++){const o=e[a];o>="0"&&o<="9"||o==="."||o==="+"||o==="-"?r=!0:r&&(o===" "||o===","||o==="/")?(t.push(e.substring(n,a)),r=!1,n=a+1):r||(n=a+1)}return r&&t.push(e.substring(n,e.length)),t}function ls(e,t,n){const r=Uo(e),s=Object.entries(n);return r.map(o=>o.trim()).map((o,i)=>{let c;const l=s.find(([d])=>o.endsWith(d));return l?c=parseFloat(o.substring(0,o.length-l[0].length))/l[1]*t[i]:c=parseFloat(o),t[i]>1?Math.round(c):c})}const Wo=[255,255,255,1],No={"%":100};function ds(e){const[t,n,r,s=1]=ls(e,Wo,No);return t==null||n==null||r==null||s==null?null:{r:t,g:n,b:r,a:s}}const Ho=[360,1,1,1],Bo={"%":100,deg:360,rad:2*Math.PI,turn:1};function Go(e){const[t,n,r,s=1]=ls(e,Ho,Bo);return t==null||n==null||r==null||s==null?null:is({h:t,s:n,l:r,a:s})}function jo(e){const t=e.substring(1);switch(t.length){case 3:case 4:{const[n,r,s]=[0,1,2].map(o=>parseInt(`${t[o]}${t[o]}`,16)),a=t.length===3?1:parseInt(`${t[3]}${t[3]}`,16)/255;return{r:n,g:r,b:s,a}}case 6:case 8:{const[n,r,s]=[0,2,4].map(o=>parseInt(t.substring(o,o+2),16)),a=t.length===6?1:parseInt(t.substring(6,8),16)/255;return{r:n,g:r,b:s,a}}}return null}function qo(e){const t=us.get(e);return{r:t>>16&255,g:t>>8&255,b:t>>0&255,a:1}}function zo(e){const t=fs.get(e);return{r:t>>16&255,g:t>>8&255,b:t>>0&255,a:1}}function Ko(e){let t=0;const n=(r,s,a)=>{e=e.substring(0,r)+a+e.substring(s)};for(;(t=e.indexOf("calc("))!==-1;){const r=Bn(e,t);if(!r)break;let s=e.slice(r.start+1,r.end-1);const a=s.includes("%");s=s.split("%").join("");const o=Math.round(Mo(s));n(r.start-4,r.end,o+(a?"%":""))}return e}const us=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),fs=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(([e,t])=>[e.toLowerCase(),t]));function hs(e,t,n){return(.2126*e+.7152*t+.0722*n)/255}let wt,Je;function Jt(e){Je||(wt=document.createElement("canvas"),wt.width=1,wt.height=1,Je=wt.getContext("2d",{willReadFrequently:!0})),Je.fillStyle=e,Je.fillRect(0,0,1,1);const t=Je.getImageData(0,0,1,1).data,n=`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${(t[3]/255).toFixed(2)})`;return ds(n)}function qn(e){let t=!1,n=null,r;return Object.assign((...o)=>{r=o,n?t=!0:(e(...r),n=requestAnimationFrame(()=>{n=null,t&&(e(...r),t=!1)}))},{cancel:()=>{cancelAnimationFrame(n),t=!1,n=null}})}function Qo(){const e=[];let t=null;function n(){let a;for(;a=e.shift();)a();t=null}function r(a){e.push(a),t||(t=requestAnimationFrame(n))}function s(){e.splice(0),cancelAnimationFrame(t),t=null}return{add:r,cancel:s}}const Zt=new Set;function Yo(e,t){Zt.has(e)||(Zt.add(e),requestAnimationFrame(()=>{Zt.delete(e),t()}))}function Xo(e){return(e<16?"0":"")+e.toString(16)}function gs(){if("randomUUID"in crypto){const e=crypto.randomUUID();return e.substring(0,8)+e.substring(9,13)+e.substring(14,18)+e.substring(19,23)+e.substring(24)}return"getRandomValues"in crypto?Array.from(crypto.getRandomValues(new Uint8Array(16))).map(e=>Xo(e)).join(""):Math.floor(Math.random()*2**55).toString(36)}let me=null,ms=!document.hidden;const Ue={capture:!0,passive:!0};function Jo(){document.addEventListener("visibilitychange",me,Ue),window.addEventListener("pageshow",me,Ue),window.addEventListener("focus",me,Ue)}function Zo(){document.removeEventListener("visibilitychange",me,Ue),window.removeEventListener("pageshow",me,Ue),window.removeEventListener("focus",me,Ue)}function ea(e){const t=!!me;me=()=>{document.hidden||(ps(),e(),ms=!0)},t||Jo()}function ps(){Zo(),me=null}function bs(){return ms}function $t(e){let t=0;return e.seconds&&(t+=e.seconds*1e3),e.minutes&&(t+=e.minutes*60*1e3),e.hours&&(t+=e.hours*60*60*1e3),e.days&&(t+=e.days*24*60*60*1e3),t}function ue(...e){}function F(...e){}function ta(...e){}function zn(e,t){t||ta(e)}function fe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function yn(e,t,n=Function.prototype){const s=$t({seconds:2}),a=$t({seconds:10});let o=e.previousSibling,i=e.parentNode;if(!i)throw new Error("Unable to watch for node position: parent element not found");if(t==="prev-sibling"&&!o)throw new Error("Unable to watch for node position: there is no previous sibling");let c=0,l=null,d=null;const h=qn(()=>{if(d)return;c++;const u=Date.now();if(l==null)l=u;else if(c>=10){if(u-l<a){F(`Node position watcher paused: retry in ${s}ms`,e,o),d=setTimeout(()=>{l=null,c=0,d=null,h()},s);return}l=u,c=1}if(t==="head"&&o&&o.parentNode!==i&&(F("Sibling moved, moving node to the head end",e,o,i),o=document.head.lastChild),t==="prev-sibling"){if(o.parentNode==null){F("Unable to restore node position: sibling was removed",e,o,i),E();return}o.parentNode!==i&&(F("Style was moved to another parent",e,o,i),w(o.parentNode))}t==="head"&&!i.isConnected&&(i=document.head),F("Restoring node position",e,o,i),i.insertBefore(e,o&&o.isConnected?o.nextSibling:i.firstChild),S.takeRecords(),n&&n()}),S=new MutationObserver(()=>{(t==="head"&&(e.parentNode!==i||!e.parentNode.isConnected)||t==="prev-sibling"&&e.previousSibling!==o)&&h()}),v=()=>{S.observe(i,{childList:!0})},E=()=>{clearTimeout(d),S.disconnect(),h.cancel()},g=()=>{S.takeRecords()},w=u=>{i=u,E(),v()};return v(),{run:v,stop:E,skip:g}}function ze(e,t){if(e==null)return;const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(r){return r.shadowRoot==null?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});for(let r=e.shadowRoot?n.currentNode:n.nextNode();r!=null;r=n.nextNode())r.classList.contains("surfingkeys_hints_host")||(t(r),ze(r.shadowRoot,t))}let Se=()=>document.readyState==="complete"||document.readyState==="interactive";function na(e){Se=e}const Ft=new Set;function Kn(e){Se()?e():Ft.add(e)}function Ss(e){Ft.delete(e)}function Yt(){return document.readyState==="complete"}const Ut=new Set;function Qn(e){Yt()?e():Ut.add(e)}function ra(){Ut.clear()}if(!Se()){const e=()=>{Se()&&(Ft.forEach(t=>t()),Ft.clear(),Yt()&&(document.removeEventListener("readystatechange",e),Ut.forEach(t=>t()),Ut.clear()))};document.addEventListener("readystatechange",e)}const vr=1e3;function sa(e){if(e.length>vr)return!0;let t=0;for(let n=0;n<e.length;n++)if(t+=e[n].addedNodes.length,t>vr)return!0;return!1}function oa(e){const t=new Set,n=new Set,r=new Set;e.forEach(o=>{se(o.addedNodes,i=>{i instanceof Element&&i.isConnected&&t.add(i)}),se(o.removedNodes,i=>{i instanceof Element&&(i.isConnected?(r.add(i),t.delete(i)):n.add(i))})});const s=[],a=[];return t.forEach(o=>{t.has(o.parentElement)&&s.push(o)}),n.forEach(o=>{n.has(o.parentElement)&&a.push(o)}),s.forEach(o=>t.delete(o)),a.forEach(o=>n.delete(o)),{additions:t,moves:r,deletions:n}}const kt=new Map,en=new WeakMap;function ys(e,t){let n,r,s;if(kt.has(e))n=kt.get(e),r=en.get(n);else{let a=!1,o=!1;n=new MutationObserver(i=>{if(sa(i))!a||Se()?r.forEach(({onHugeMutations:c})=>c(e)):o||(s=()=>r.forEach(({onHugeMutations:c})=>c(e)),Kn(s),o=!0),a=!0;else{const c=oa(i);r.forEach(({onMinorMutations:l})=>l(e,c))}}),n.observe(e,{childList:!0,subtree:!0}),kt.set(e,n),r=new Set,en.set(n,r)}return r.add(t),{disconnect(){r.delete(t),s&&Ss(s),r.size===0&&(n.disconnect(),en.delete(n),kt.delete(e))}}}function Ce(e,t,n){se(e,r=>{if(Es(r))t(r);else if(da(r))try{Ce(r.styleSheet.cssRules,t,n)}catch{n==null||n()}else if(wn(r)){const s=Array.from(r.media),a=s.some(i=>i.startsWith("screen")||i.startsWith("all")||i.startsWith("(")),o=s.some(i=>i.startsWith("print")||i.startsWith("speech"));(a||!o)&&Ce(r.cssRules,t,n)}else ua(r)?CSS.supports(r.conditionText)&&Ce(r.cssRules,t,n):Cs(r)?Ce(r.cssRules,t,n):F("CSSRule type not supported",r)})}const ws=["background","border","border-color","border-bottom","border-left","border-right","border-top","outline","outline-color"],aa=Pt?ws.map(e=>{const t=new RegExp(`${e}:\\s*(.*?)\\s*;`);return[e,t]}):null;function Ie(e,t){se(e,r=>{const s=e.getPropertyValue(r).trim();s&&t(r,s)});const n=e.cssText;n.includes("var(")&&(Pt?aa.forEach(([r,s])=>{const a=n.match(s);if(a&&a[1]){const o=a[1].trim();t(r,o)}}):ws.forEach(r=>{const s=e.getPropertyValue(r);s&&s.includes("var(")&&t(r,s)})),n.includes("background-color: ;")&&!e.getPropertyValue("background")&&_r("background",e,t),n.includes("border-")&&n.includes("-color: ;")&&!e.getPropertyValue("border")&&_r("border",e,t)}function _r(e,t,n){var s,a;const r=t.parentRule;if(Es(r)){const o=(a=(s=r.parentStyleSheet)==null?void 0:s.ownerNode)==null?void 0:a.textContent;if(o){let i=Eo(r.selectorText);i=i.replaceAll(/\s+/g,"\\s*"),i=i.replaceAll(/::/g,"::?");const c=new RegExp(`${i}\\s*{[^}]*${e}:\\s*([^;}]+)`),l=o.match(c);l&&n(e,l[1])}else e==="background"&&n("background-color","#ffffff")}}const ks=/url\((('.*?')|(".*?")|([^\)]*?))\)/g,xs=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi;function Yn(e){return e.trim().replace(/[\n\r\\]+/g,"").replace(/^url\((.*)\)$/,"$1").trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1").replace(/(?:\\(.))/g,"$1")}function Wt(e){const t=It(e);return`${t.origin}${t.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1")}`}function ia(e,t){return e.replace(ks,n=>{try{const r=Yn(n);return`url('${Kt(t,r).replaceAll("'","\\'")}')`}catch{return F("Not able to replace relative URL with Absolute URL, skipping"),n}})}const ca=/@font-face\s*{[^}]*}/g;function la(e){return e.replace(ca,"")}const je=new WeakSet,Ar=new WeakSet,Lr=new WeakSet,Tr=new WeakSet,Mr=new WeakSet;function Es(e){return e?je.has(e)?!0:e.selectorText?(je.add(e),!0):!1:!1}function da(e){return!e||je.has(e)?!1:Ar.has(e)?!0:e.href?(Ar.add(e),!0):!1}function wn(e){return!e||je.has(e)?!1:Lr.has(e)?!0:e.media?(Lr.add(e),!0):!1}function ua(e){return!e||je.has(e)?!1:Tr.has(e)?!0:e instanceof CSSSupportsRule?(Tr.add(e),!0):!1}function Cs(e){return!e||je.has(e)?!1:Mr.has(e)?!0:Zr&&e instanceof CSSLayerBlockRule?(Mr.add(e),!0):!1}const kn=new WeakMap;function Rs(e,t){kn.set(e,t)}function fa(e){if(!e.ownerNode)return null;if(kn.has(e))return kn.get(e);let t=e.ownerNode;for(;t;){if(t instanceof ShadowRoot||t instanceof Document)return Rs(e,t),t;t=t.parentNode}return null}const Dr=8,xn="conic-",ha=xn.length,ga="radial-",ma="linear-";function pa(e){const t=[];let n=0,r=xn.length;for(;(n=e.indexOf("gradient",r))!==-1;){let s;if([ma,ga,xn].find(c=>{if(n-c.length>=0&&e.substring(n-c.length,n)===c)return e.slice(n-c.length-10,n-c.length-1)==="repeating"?(s=`repeating-${c}gradient`,!0):e.slice(n-c.length-8,n-c.length-1)==="-webkit"?(s=`-webkit-${c}gradient`,!0):(s=`${c}gradient`,!0)}),!s)break;const{start:a,end:o}=Bn(e,n+Dr),i=e.substring(a+1,o-1);r=o+1+ha,t.push({typeGradient:s,match:i,offset:s.length+2,index:n-s.length+Dr,hasComma:!0})}return t.length&&(t[t.length-1].hasComma=!1),t}const vs="__darkreader__imageDetails_v2_list",_s="__darkreader__imageDetails_v2_",As="__darkreader__cssFetch_";let Vr=0;const En=new Map,Or=[];function ba(){En.forEach((e,t)=>{if(t&&t.startsWith("https://"))try{const n=JSON.stringify(e);sessionStorage.setItem(`${_s}${t}`,n),Or.push(t)}catch{}}),En.clear(),sessionStorage.setItem(vs,JSON.stringify(Or))}function Sa(e,t){!e||!e.startsWith("https://")||(En.set(e,t),clearTimeout(Vr),Vr=setTimeout(ba,1e3))}function ya(e){try{const t=sessionStorage.getItem(vs);if(!t)return;JSON.parse(t).forEach(r=>{const s=sessionStorage.getItem(`${_s}${r}`);if(s){const a=JSON.parse(s);e.set(r,a)}})}catch{}}function wa(e,t){const n=`${As}${e}`;try{sessionStorage.setItem(n,t)}catch{}}function ka(e){const t=`${As}${e}`;try{return sessionStorage.getItem(t)??null}catch{}return null}function xa(e){return e.slice(0,4).map(t=>t.map(n=>n.toFixed(3)).join(" ")).join(" ")}function Ea(e){return xa(os(e))}const Ca=1e3/60;class Ra{constructor(){this.queue=[],this.timerId=null}addTask(t){this.queue.push(t),this.scheduleFrame()}stop(){this.timerId!==null&&(cancelAnimationFrame(this.timerId),this.timerId=null),this.queue=[]}scheduleFrame(){this.timerId||(this.timerId=requestAnimationFrame(()=>{this.timerId=null;const t=Date.now();let n;for(;n=this.queue.shift();)if(n(),Date.now()-t>=Ca){this.scheduleFrame();break}}))}}const Cn=new Map,Rn=new Map;async function Ls(e){var t,n;return(n=(t=window.DarkReader)==null?void 0:t.Plugins)!=null&&n.fetch?window.DarkReader.Plugins.fetch(e):new Promise((r,s)=>{const a=gs();Cn.set(a,r),Rn.set(a,s),chrome.runtime.sendMessage({type:Ot.FETCH,data:e,id:a})})}chrome.runtime.onMessage.addListener(({type:e,data:t,error:n,id:r})=>{if(e===ut.FETCH_RESPONSE){const s=Cn.get(r),a=Rn.get(r);Cn.delete(r),Rn.delete(r),n?a&&a(n):s&&s(t)}});const vn=new Ra;async function Ts(e){return new Promise(async(t,n)=>{try{const r=e.startsWith("data:")?e:await va(e),s=Ds(r)??await po(e);let a;r.startsWith("data:image/svg+xml")?a=await Pr(r):a=await _a(s)??await Pr(r),vn.addTask(()=>{const o=Va(a);t({src:e,dataURL:o.isLarge?"":r,width:a.width,height:a.height,...o})})}catch(r){n(r)}})}async function va(e){return new URL(e).origin===location.origin?await mo(e):await Ls({url:e,responseType:"data-url"})}async function _a(e){try{return await createImageBitmap(e)}catch(t){return F(`Unable to create image bitmap for type ${e.type}: ${String(t)}`),null}}const Aa=256;let La=0;async function Pr(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(`Unable to load image ${e}`),++La<=Aa||Yt()?r.src=e:Qn(()=>r.src=e)})}const _n=32*32;let $e,We;function Ta(){const e=_n,t=_n;$e=document.createElement("canvas"),$e.width=e,$e.height=t,We=$e.getContext("2d",{willReadFrequently:!0}),We.imageSmoothingEnabled=!1}function Ma(){$e=null,We=null}const Da=512*512;function Va(e){$e||Ta();let t,n;if(e instanceof HTMLImageElement?(t=e.naturalWidth,n=e.naturalHeight):(t=e.width,n=e.height),t===0||n===0)return F("Image is empty"),{isDark:!1,isLight:!1,isTransparent:!1,isLarge:!1};const r=t*n>Da,s=t*n,a=Math.min(1,Math.sqrt(_n/s)),o=Math.ceil(t*a),i=Math.ceil(n*a);We.clearRect(0,0,o,i),We.drawImage(e,0,0,t,n,0,0,o,i);const l=We.getImageData(0,0,o,i).data,d=.05,h=.4,S=.7;let v=0,E=0,g=0,w,u,k,m,y,b,C,R;for(k=0;k<i;k++)for(u=0;u<o;u++)w=4*(k*o+u),m=l[w+0],y=l[w+1],b=l[w+2],C=l[w+3],C/255<d?v++:(R=hs(m,y,b),R<h&&E++,R>S&&g++);const f=o*i,p=f-v;return{isDark:E/p>=.7,isLight:g/p>=.7,isTransparent:v/f>=.1,isLarge:r}}let mt=null,Xn=!1,Ir=!1;const tn=[];document.addEventListener("__darkreader__inlineScriptsAllowed",()=>Xn=!0,{once:!0});async function Oa(){if(Xn){if(Ir)return await new Promise(e=>tn.push(e));Ir=!0,await new Promise(e=>{document.addEventListener("__darkreader__blobURLCheckResponse",t=>{mt=t.detail.blobURLAllowed,e(),tn.forEach(n=>n()),tn.splice(0)},{once:!0}),document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckRequest"))})}}function Pa(){return mt!=null||!Xn}function Ms(e){e.blockedURI==="blob"&&(mt=!1,document.removeEventListener("securitypolicyviolation",Ms))}document.addEventListener("securitypolicyviolation",Ms);const An=new Set;function nn({dataURL:e,width:t,height:n},r){e.startsWith("data:image/svg+xml")&&(e=$a(e));const s=Ea(r),a=[`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${t}" height="${n}">`,"<defs>",'<filter id="darkreader-image-filter">',`<feColorMatrix type="matrix" values="${s}" />`,"</filter>","</defs>",`<image width="${t}" height="${n}" filter="url(#darkreader-image-filter)" xlink:href="${e}" />`,"</svg>"].join("");if(!mt)return`data:image/svg+xml;base64,${btoa(a)}`;const o=new Uint8Array(a.length);for(let l=0;l<a.length;l++)o[l]=a.charCodeAt(l);const i=new Blob([o],{type:"image/svg+xml"}),c=URL.createObjectURL(i);return An.add(c),c}const Ia={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&apos;",'"':"&quot;"};function $a(e){return e.replace(/[<>&'"]/g,t=>Ia[t]??t)}const Nt=new Map;function Ds(e){const t=e.indexOf(":"),n=e.indexOf(";",t+1),r=e.indexOf(",",n+1),s=e.substring(n+1,r).toLocaleLowerCase(),a=e.substring(t+1,n);if(s!=="base64"||!a)return null;const o=atob(e.substring(r+1)),i=new Uint8Array(o.length);for(let c=0;c<o.length;c++)i[c]=o.charCodeAt(c);return new Blob([i],{type:a})}async function Fa(e){if(!mt)return null;const t=rs(e);let n=Nt.get(t);if(n)return n;let r=Ds(e);return r||(r=await(await fetch(e)).blob()),n=URL.createObjectURL(r),Nt.set(t,n),n}function Ua(){vn&&vn.stop(),Ma(),An.forEach(e=>URL.revokeObjectURL(e)),An.clear(),Nt.forEach(e=>URL.revokeObjectURL(e)),Nt.clear()}let oe;const _e=new Map;function $r(e){oe=e;const t=["background","text","border"];_e.forEach(n=>{t.forEach(r=>{if(n[r]){const{variable:s,value:a}=n[r];oe==null||oe.cssRules[0].style.setProperty(s,a)}})})}function Wa(){oe=null,Ln()}function Vs(e,t){return`var(${t[e].variable}, ${t[e].value})`}function Na(e,t){const n=jn(t),r=_e.get(n);return r!=null&&r[e]?Vs(e,r):null}function Ha(e,t,n){var o;const r=jn(t);let s;_e.has(r)?s=_e.get(r):(s={parsed:q(r)},_e.set(r,s));const a=`--darkreader-${e}-${r.replace("#","")}`;return s[e]={variable:a,value:n},(o=oe==null?void 0:oe.cssRules[0])!=null&&o.style&&(oe==null||oe.cssRules[0].style.setProperty(a,n)),Vs(e,s)}function Ba(){const e=[],t=[],n=[];return _e.forEach(r=>{r.background&&e.push(r.parsed),r.border&&t.push(r.parsed),r.text&&n.push(r.parsed)}),{background:e,border:t,text:n}}function Ln(){_e.clear()}function Jn(e){const n=e.mode===1?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor";return e[n]}function Zn(e){const n=e.mode===1?"darkSchemeTextColor":"lightSchemeTextColor";return e[n]}const Lt=new Map;function Ga(){Lt.clear()}const ja=["r","g","b","a"],qa=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];function za(e,t){let n="";return ja.forEach(r=>{n+=`${e[r]};`}),qa.forEach(r=>{n+=`${t[r]};`}),n}function Xt(e,t,n,r,s){let a;Lt.has(n)?a=Lt.get(n):(a=new Map,Lt.set(n,a));const o=za(e,t);if(a.has(o))return a.get(o);const i=Qt(e),c=r==null?null:Cr(r),l=s==null?null:Cr(s),d=n(i,c,l),{r:h,g:S,b:v,a:E}=is(d),g=os(t),[w,u,k]=To([h,S,v],g),m=E===1?jn({r:w,g:u,b:k}):Oo({r:w,g:u,b:k,a:E});return a.set(o,m),m}function er(e,t,n,r){const s=Na(e,t);if(s)return s;const a=r(t,n);return Ha(e,t,a)}function tr(e,t){const n=Jn(t),r=Zn(t);return Xt(e,t,Ka,r,n)}function Ka({h:e,s:t,l:n,a:r},s,a){const o=n<.5;let i;if(o)i=n<.2||t<.12;else{const h=e>200&&e<280;i=t<.24||n>.8&&h}let c=e,l=n;i&&(o?(c=s.h,l=s.s):(c=a.h,l=a.s));const d=ae(n,0,1,s.l,a.l);return{h:c,s:l,l:d,a:r}}const Fr=.4;function Qa({h:e,s:t,l:n,a:r},s){const a=n<.5,o=e>200&&e<280,i=t<.12||n>.8&&o;if(a){const h=ae(n,0,.5,0,Fr);if(i){const S=s.h,v=s.s;return{h:S,s:v,l:h,a:r}}return{h:e,s:t,l:h,a:r}}let c=ae(n,.5,1,Fr,s.l);if(i){const h=s.h,S=s.s;return{h,s:S,l:c,a:r}}let l=e;return e>60&&e<180&&(e>120?l=ae(e,120,180,135,180):l=ae(e,60,120,60,105)),l>40&&l<80&&(c*=.75),{h:l,s:t,l:c,a:r}}function Ur(e,t){if(t.mode===0)return tr(e,t);const n=Jn(t);return Xt(e,{...t,mode:0},Qa,n)}function Y(e,t,n=!0){return n?er("background",e,t,Ur):Ur(e,t)}const xt=.55;function Wr(e){return ae(e,205,245,205,220)}function Ya({h:e,s:t,l:n,a:r},s){const a=n>.5,o=n<.2||t<.24,i=!o&&e>205&&e<245;if(a){const d=ae(n,.5,1,xt,s.l);if(o){const S=s.h,v=s.s;return{h:S,s:v,l:d,a:r}}let h=e;return i&&(h=Wr(e)),{h,s:t,l:d,a:r}}if(o){const d=s.h,h=s.s,S=ae(n,0,.5,s.l,xt);return{h:d,s:h,l:S,a:r}}let c=e,l;return i?(c=Wr(e),l=ae(n,0,.5,s.l,Math.min(1,xt+.05))):l=ae(n,0,.5,s.l,xt),{h:c,s:t,l,a:r}}function Nr(e,t){if(t.mode===0)return tr(e,t);const n=Zn(t);return Xt(e,{...t,mode:0},Ya,n)}function Z(e,t,n=!0){return n?er("text",e,t,Nr):Nr(e,t)}function Xa({h:e,s:t,l:n,a:r},s,a){const o=n<.5,i=n<.2||t<.24;let c=e,l=t;i&&(o?(c=s.h,l=s.s):(c=a.h,l=a.s));const d=ae(n,0,1,.5,.2);return{h:c,s:l,l:d,a:r}}function Hr(e,t){if(t.mode===0)return tr(e,t);const n=Zn(t),r=Jn(t);return Xt(e,{...t,mode:0},Xa,n,r)}function qe(e,t,n=!0){return n?er("border",e,t,Hr):Hr(e,t)}function Ja(e,t){return Y(e,t)}function rn(e,t){return Y(e,t)}function Za(e,t){return!!(e&&e.getPropertyPriority(t))}function Os(e,t,n,r,s,a){let o=null;if(e.startsWith("--"))o=fi(r,e,t,n,s,a);else if(t.includes("var("))o=hi(r,e,t);else if(e==="color-scheme")o=ui();else if(e==="scrollbar-color")o=di(t);else if(e.includes("color")&&e!=="-webkit-print-color-adjust"||e==="fill"||e==="stroke"||e==="stop-color")if(e.startsWith("border")&&e!=="border-color"&&t==="initial"){const i=e.substring(0,e.length-6),c=n.style.getPropertyValue(i);c.startsWith("0px")||c==="none"?(e=i,o=c):o=t}else o=ai(e,t,n);else e==="background-image"||e==="list-style-image"?o=Is(t,n,s,a):e.includes("shadow")&&(o=li(t));return o?{property:e,value:o,important:Za(n.style,e),sourceValue:t}:null}function Br(...e){return e.filter(Boolean).join(", ")}const ei=["calendar.google.com"];function ti(e,t,n){const r=[];t||(r.push("html {"),r.push(`    background-color: ${Y({r:255,g:255,b:255},e)} !important;`),r.push("}")),es&&e.mode===1&&(r.push("html {"),r.push("    color-scheme: dark !important;"),r.push("}"),r.push("iframe {"),r.push("    color-scheme: dark !important;"),r.push("}"));const s=Br(t?"":"html, body",n?"input, textarea, select, button, dialog":"");return s&&(r.push(`${s} {`),r.push(`    background-color: ${Y({r:255,g:255,b:255},e)};`),r.push("}")),r.push(`${Br("html, body",n?"input, textarea, select, button":"")} {`),r.push(`    border-color: ${qe({r:76,g:76,b:76},e)};`),r.push(`    color: ${Z({r:0,g:0,b:0},e)};`),r.push("}"),r.push("a {"),r.push(`    color: ${Z({r:0,g:64,b:255},e)};`),r.push("}"),r.push("table {"),r.push(`    border-color: ${qe({r:128,g:128,b:128},e)};`),r.push("}"),r.push("mark {"),r.push(`    color: ${Z({r:0,g:0,b:0},e)};`),r.push("}"),r.push("::placeholder {"),r.push(`    color: ${Z({r:169,g:169,b:169},e)};`),r.push("}"),r.push("input:-webkit-autofill,"),r.push("textarea:-webkit-autofill,"),r.push("select:-webkit-autofill {"),r.push(`    background-color: ${Y({r:250,g:255,b:189},e)} !important;`),r.push(`    color: ${Z({r:0,g:0,b:0},e)} !important;`),r.push("}"),e.scrollbarColor&&!ei.includes(location.hostname)&&r.push(ri(e)),e.selectionColor&&r.push(ni(e)),Zr&&(r.unshift("@layer {"),r.push("}")),r.join(`
`)}function Ps(e){let t,n;if(e.selectionColor==="auto")t=Y({r:0,g:96,b:212},{...e,grayscale:0}),n=Z({r:255,g:255,b:255},{...e,grayscale:0});else{const r=q(e.selectionColor),s=Qt(r);t=e.selectionColor,s.l<.5?n="#FFF":n="#000"}return{backgroundColorSelection:t,foregroundColorSelection:n}}function ni(e){const t=[],n=Ps(e),r=n.backgroundColorSelection,s=n.foregroundColorSelection;return["::selection","::-moz-selection"].forEach(a=>{t.push(`${a} {`),t.push(`    background-color: ${r} !important;`),t.push(`    color: ${s} !important;`),t.push("}")}),t.join(`
`)}function ri(e){let t,n;if(e.scrollbarColor==="auto")t=Y({r:241,g:241,b:241},e),n=Y({r:176,g:176,b:176},e);else{const r=q(e.scrollbarColor),s=Qt(r);t=Rr((o=>({...s,l:ve(s.l-o,0,1)}))(.4)),n=Rr(s)}return["* {",`    scrollbar-color: ${n} ${t};`,"}"].join(`
`)}function nr(e,{strict:t}){return si(e,{strict:t})}function si(e,{strict:t}){const n=[];return n.push(`html, body, ${t?"body :not(iframe)":"body > :not(iframe)"} {`),n.push(`    background-color: ${Y({r:255,g:255,b:255},e)} !important;`),n.push(`    border-color: ${qe({r:64,g:64,b:64},e)} !important;`),n.push(`    color: ${Z({r:0,g:0,b:0},e)} !important;`),n.push("}"),n.push('div[style*="background-color: rgb(135, 135, 135)"] {'),n.push("    background-color: #878787 !important;"),n.push("}"),n.join(`
`)}const oi=new Set(["inherit","transparent","initial","currentcolor","none","unset","auto"]);function ai(e,t,n){if(oi.has(t.toLowerCase()))return t;const r=q(t);return r?e.includes("background")?n.style.webkitMaskImage&&n.style.webkitMaskImage!=="none"||n.style.webkitMask&&!n.style.webkitMask.startsWith("none")||n.style.mask&&n.style.mask!=="none"||n.style.getPropertyValue("mask-image")&&n.style.getPropertyValue("mask-image")!=="none"?s=>Z(r,s):s=>Y(r,s):e.includes("border")||e.includes("outline")?s=>qe(r,s):s=>Z(r,s):(F("Couldn't parse color",t),null)}const ot=new Map,le=new Map;let Gr=!1;function ii(e,t){if(!e||t.length===0)return!1;if(t.some(r=>r==="*"))return!0;const n=e.split(/,\s*/g);for(let r=0;r<t.length;r++){const s=t[r];if(s.startsWith("^")){const a=s.slice(1);if(n.some(o=>o.startsWith(a)))return!0}else if(s.endsWith("$")){const a=s.slice(0,s.length-1);if(n.some(o=>o.endsWith(a)))return!0}else if(n.some(a=>a===s))return!0}return!1}const Ne=new Map,ci=new Map,sn=new Set;let on=null,Re=null;function Tn(e){for(const[t,n]of Ne)(e.querySelector(t)||e instanceof Element&&e.matches(t))&&(Ne.delete(t),n.forEach(r=>r()));Re||(Re=new MutationObserver(t=>{t.forEach(n=>{sn.add(n.target),on||(on=requestAnimationFrame(()=>{sn.forEach(r=>{Tn(r)}),sn.clear(),on=null}))})}),Re.observe(document.documentElement,{attributes:!0,attributeFilter:["class"],subtree:!0}))}function Is(e,t,n,r){try{if(ii(t.selectorText,n))return e;const s=pa(e),a=bn(ks,e);if(a.length===0&&s.length===0)return e;const o=E=>{let g=0;return E.map(w=>{const u=e.indexOf(w,g);return g=u+w.length,{match:w,index:u}})},i=s.map(E=>({type:"gradient",...E})).concat(o(a).map(E=>({type:"url",offset:0,...E}))).sort((E,g)=>E.index>g.index?1:-1),c=E=>{const{typeGradient:g,match:w,hasComma:u}=E,k=/([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?([^\(\), ]|( (?!calc)))*),?/g,m=/^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,y=bn(k,w,1).map(b=>{b=b.trim();let C=q(b);if(C)return p=>rn(C,p);const R=b.lastIndexOf(" ");if(C=q(b.substring(0,R)),C)return p=>`${rn(C,p)} ${b.substring(R+1)}`;const f=b.match(m);return f&&(C=q(f[3]),C)?p=>`${f[1]}(${f[2]?`${f[2]}, `:""}${rn(C,p)})`:()=>b});return b=>`${g}(${y.map(C=>C(b)).join(", ")})${u?", ":""}`},l=E=>{Gr||(Gr=!0,ya(ot));let g=Yn(E);const w=g.length===0,{parentStyleSheet:u}=t,k=u==null?void 0:u.ownerNode,m=(u&&fa(u))??document,y=u&&u.href?Wt(u.href):(k==null?void 0:k.baseURI)||location.origin;return g=Kt(y,g),async b=>{if(w)return"url('')";let C=t.selectorText;C&&(C.includes("::before")&&(C=C.replaceAll("::before","")),C.includes("::after")&&(C=C.replaceAll("::after","")),m.querySelector(C)||await new Promise(f=>{Ne.has(C)?Ne.get(C).push(f):(Ne.set(C,[f]),ci.set(C,E))}));let R=null;if(ot.has(g))R=ot.get(g);else try{if(Pa()||await Oa(),le.has(g)){const f=le.get(g);if(R=await new Promise(p=>f.push(p)),!R)return null}else le.set(g,[]),R=await Ts(g),ot.set(g,R),Sa(g,R),le.get(g).forEach(f=>f(R)),le.delete(g);if(r())return null}catch(f){F(f),le.has(g)&&(le.get(g).forEach(p=>p(null)),le.delete(g))}if(R){const f=d(R,b);if(f)return f}if(g.startsWith("data:")){const f=await Fa(g);if(f)return`url("${f}")`}return`url("${g}")`}},d=(E,g)=>{const{isDark:w,isLight:u,isTransparent:k,isLarge:m,width:y}=E;let b;const C=E.src.startsWith("data:")?"data:":E.src;return m&&u&&!k&&g.mode===1?(ue(`Hiding large light image ${C}`),b="none"):w&&k&&g.mode===1&&y>2?(ue(`Inverting dark image ${C}`),b=`url("${nn(E,{...g,sepia:ve(g.sepia+10,0,100)})}")`):u&&!k&&g.mode===1?(ue(`Dimming light image ${C}`),b=`url("${nn(E,g)}")`):g.mode===0&&u?(ue(`Applying filter to image ${C}`),b=`url("${nn(E,{...g,brightness:ve(g.brightness-10,5,200),sepia:ve(g.sepia+10,0,100)})}")`):(ue(`Not modifying the image ${C}`),b=null),b},h=[];let S=0,v=!1;return i.forEach(({type:E,match:g,index:w,typeGradient:u,hasComma:k,offset:m},y)=>{const b=w,C=S,R=b+g.length+m;S=R,C!==b&&(v?h.push(()=>{let f=e.substring(C,b);return f[0]===","&&(f=f.substring(1)),f}):h.push(()=>e.substring(C,b))),v=k||!1,E==="url"?h.push(l(g)):E==="gradient"&&h.push(c({match:g,index:w,typeGradient:u,hasComma:k||!1,offset:m})),y===i.length-1&&h.push(()=>e.substring(R))}),E=>{const g=h.filter(Boolean).map(u=>u(E));if(g.some(u=>u instanceof Promise))return Promise.all(g).then(u=>u.filter(Boolean).join(""));const w=g.join("");return w.endsWith(", initial")?w.slice(0,-9):w}}catch(s){return F(`Unable to parse gradient ${e}`,s),null}}function $s(e){try{let t=0;const n=bn(/(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,e,2);let r=0;const s=n.map((a,o)=>{const i=t,c=e.indexOf(a,t),l=c+a.length;t=l;const d=q(a);return d?h=>`${e.substring(i,c)}${Ja(d,h)}${o===n.length-1?e.substring(l):""}`:(r++,()=>e.substring(i,l))});return a=>{const o=s.map(i=>i(a)).join("");return{matchesLength:n.length,unparsableMatchesLength:r,result:o}}}catch(t){return F(`Unable to parse shadow ${e}`,t),null}}function li(e){const t=$s(e);return t?n=>t(n).result:null}function di(e){const t=e.match(/^\s*([a-z]+(\(.*\))?)\s+([a-z]+(\(.*\))?)\s*$/);if(!t)return e;const n=q(t[1]),r=q(t[3]);return!n||!r?(F("Couldn't parse color",...[n,r].filter(s=>!s)),null):s=>`${Z(n,s)} ${Y(n,s)}`}function ui(){return e=>e.mode===0?"dark light":"dark"}function fi(e,t,n,r,s,a){return e.getModifierForVariable({varName:t,sourceValue:n,rule:r,ignoredImgSelectors:s,isCancelled:a})}function hi(e,t,n){return e.getModifierForVarDependant(t,n)}function gi(){Ga(),ot.clear(),Ua(),le.clear(),Ne.clear(),Re==null||Re.disconnect(),Re=null}const ee=1,De=2,Ve=4,Ze=8;class mi{constructor(){this.varTypes=new Map,this.rulesQueue=new Set,this.inlineStyleQueue=[],this.definedVars=new Set,this.varRefs=new Map,this.unknownColorVars=new Set,this.unknownBgVars=new Set,this.undefinedVars=new Set,this.initialVarTypes=new Map,this.changedTypeVars=new Set,this.typeChangeSubscriptions=new Map,this.unstableVarValues=new Map}clear(){this.varTypes.clear(),this.rulesQueue.clear(),this.inlineStyleQueue.splice(0),this.definedVars.clear(),this.varRefs.clear(),this.unknownColorVars.clear(),this.unknownBgVars.clear(),this.undefinedVars.clear(),this.initialVarTypes.clear(),this.changedTypeVars.clear(),this.typeChangeSubscriptions.clear(),this.unstableVarValues.clear()}isVarType(t,n){return this.varTypes.has(t)&&(this.varTypes.get(t)&n)>0}addRulesForMatching(t){this.rulesQueue.add(t)}addInlineStyleForMatching(t){this.inlineStyleQueue.push(t)}matchVariablesAndDependents(){this.rulesQueue.size===0&&this.inlineStyleQueue.length===0||(this.changedTypeVars.clear(),this.initialVarTypes=new Map(this.varTypes),this.collectRootVariables(),this.collectVariablesAndVarDep(),this.collectRootVarDependents(),this.varRefs.forEach((t,n)=>{t.forEach(r=>{this.varTypes.has(n)&&this.resolveVariableType(r,this.varTypes.get(n))})}),this.unknownColorVars.forEach(t=>{this.unknownBgVars.has(t)?(this.unknownColorVars.delete(t),this.unknownBgVars.delete(t),this.resolveVariableType(t,ee)):this.isVarType(t,ee|De|Ve)?this.unknownColorVars.delete(t):this.undefinedVars.add(t)}),this.unknownBgVars.forEach(t=>{this.findVarRef(t,r=>this.unknownColorVars.has(r)||this.isVarType(r,ee|De|Ve))!=null?this.iterateVarRefs(t,r=>{this.resolveVariableType(r,ee)}):this.isVarType(t,ee|Ze)?this.unknownBgVars.delete(t):this.undefinedVars.add(t)}),this.changedTypeVars.forEach(t=>{this.typeChangeSubscriptions.has(t)&&this.typeChangeSubscriptions.get(t).forEach(n=>{n()})}),this.changedTypeVars.clear())}getModifierForVariable(t){return n=>{const{varName:r,sourceValue:s,rule:a,ignoredImgSelectors:o,isCancelled:i}=t,c=()=>{const S=[],v=(E,g,w)=>{if(!this.isVarType(r,E))return;const u=g(r);let k;if(xe(s))if(qr(s)){let m=Mn(s,this.unstableVarValues);m||(m=E===ee?"#ffffff":"#000000"),k=w(m,n)}else k=pe(s,m=>g(m),m=>w(m,n));else k=w(s,n);S.push({property:u,value:k})};if(v(ee,et,we),v(De,an,tt),v(Ve,cn,Ct),this.isVarType(r,Ze)){const E=jr(r);let g=s;xe(s)&&(g=pe(s,u=>et(u),u=>we(u,n)));const w=Is(g,a,o,i);g=typeof w=="function"?w(n):w,S.push({property:E,value:g})}return S},l=new Set,d=S=>{const v=()=>{const E=c();S(E)};l.add(v),this.subscribeForVarTypeChange(r,v)},h=()=>{l.forEach(S=>{this.unsubscribeFromVariableTypeChanges(r,S)})};return{declarations:c(),onTypeChange:{addListener:d,removeListeners:h}}}}getModifierForVarDependant(t,n){const r=n.match(/^\s*(rgb|hsl)a?\(/),s=n.match(/^rgba?\(var\(--[\-_A-Za-z0-9]+\)(\s*,?\/?\s*0?\.\d+)?\)$/);if(r&&!s){const a=t.startsWith("background"),o=ln(t);return i=>{let c=Mn(n,this.unstableVarValues);return c||(c=a?"#ffffff":"#000000"),(a?we:o?tt:Ct)(c,i)}}return t==="background-color"||s&&t==="background"?a=>{const o=we(r?"255, 255, 255":"#ffffff",a);return pe(n,i=>et(i),i=>we(i,a),o)}:ln(t)?a=>{const o=tt(r?"0, 0, 0":"#000000",a);return pe(n,i=>an(i),i=>tt(i,a),o)}:t==="background"||t==="background-image"||t==="box-shadow"?a=>{const o=new Set,i=()=>{const l=pe(n,d=>this.isVarType(d,ee)?et(d):this.isVarType(d,Ze)?jr(d):(o.add(d),d),d=>we(d,a));if(t==="box-shadow"){const h=$s(l)(a);if(h.unparsableMatchesLength!==h.matchesLength)return h.result}return l},c=i();return o.size>0?c.match(/^var\(.*?, (var\(--darkreader-bg--.*\))|(#[0-9A-Fa-f]+)|([a-z]+)|(rgba?\(.+\))|(hsla?\(.+\))\)$/)?c:new Promise(d=>{for(const h of o.values()){const S=()=>{this.unsubscribeFromVariableTypeChanges(h,S);const v=i();d(v)};this.subscribeForVarTypeChange(h,S)}}):c}:t.startsWith("border")||t.startsWith("outline")?a=>pe(n,o=>cn(o),o=>Ct(o,a)):null}subscribeForVarTypeChange(t,n){this.typeChangeSubscriptions.has(t)||this.typeChangeSubscriptions.set(t,new Set);const r=this.typeChangeSubscriptions.get(t);r.has(n)||r.add(n)}unsubscribeFromVariableTypeChanges(t,n){this.typeChangeSubscriptions.has(t)&&this.typeChangeSubscriptions.get(t).delete(n)}collectVariablesAndVarDep(){this.rulesQueue.forEach(t=>{Ce(t,n=>{n.style&&this.collectVarsFromCSSDeclarations(n.style)})}),this.inlineStyleQueue.forEach(t=>{this.collectVarsFromCSSDeclarations(t)}),this.rulesQueue.clear(),this.inlineStyleQueue.splice(0)}collectVarsFromCSSDeclarations(t){Ie(t,(n,r)=>{Et(n)&&this.inspectVariable(n,r),xe(r)&&this.inspectVarDependant(n,r)})}shouldProcessRootVariables(){var t;return this.rulesQueue.size>0&&((t=document.documentElement.getAttribute("style"))==null?void 0:t.includes("--"))}collectRootVariables(){this.shouldProcessRootVariables()&&Ie(document.documentElement.style,(t,n)=>{Et(t)&&this.inspectVariable(t,n)})}inspectVariable(t,n){if(this.unstableVarValues.set(t,n),xe(n)&&qr(n)&&(this.unknownColorVars.add(t),this.definedVars.add(t)),this.definedVars.has(t))return;this.definedVars.add(t),!!(n.match(Ws)||n.match(Ns)||q(n))?this.unknownColorVars.add(t):(n.includes("url(")||n.includes("linear-gradient(")||n.includes("radial-gradient("))&&this.resolveVariableType(t,Ze)}resolveVariableType(t,n){const r=this.initialVarTypes.get(t)||0,a=(this.varTypes.get(t)||0)|n;this.varTypes.set(t,a),(a!==r||this.undefinedVars.has(t))&&(this.changedTypeVars.add(t),this.undefinedVars.delete(t)),this.unknownColorVars.delete(t),this.unknownBgVars.delete(t)}collectRootVarDependents(){this.shouldProcessRootVariables()&&Ie(document.documentElement.style,(t,n)=>{xe(n)&&this.inspectVarDependant(t,n)})}inspectVarDependant(t,n){Et(t)?this.iterateVarDeps(n,r=>{this.varRefs.has(t)||this.varRefs.set(t,new Set),this.varRefs.get(t).add(r)}):t==="background-color"||t==="box-shadow"?this.iterateVarDeps(n,r=>this.resolveVariableType(r,ee)):ln(t)?this.iterateVarDeps(n,r=>this.resolveVariableType(r,De)):t.startsWith("border")||t.startsWith("outline")?this.iterateVarDeps(n,r=>this.resolveVariableType(r,Ve)):(t==="background"||t==="background-image")&&this.iterateVarDeps(n,r=>{if(this.isVarType(r,ee|Ze))return;const s=this.findVarRef(r,a=>this.unknownColorVars.has(a)||this.isVarType(a,ee|De|Ve))!=null;this.iterateVarRefs(r,a=>{s?this.resolveVariableType(a,ee):this.unknownBgVars.add(a)})})}iterateVarDeps(t,n){const r=new Set;Si(t,s=>r.add(s)),r.forEach(s=>n(s))}findVarRef(t,n,r=new Set){if(r.has(t))return null;if(r.add(t),n(t))return t;const a=this.varRefs.get(t);if(!a||a.size===0)return null;for(const o of a){const i=this.findVarRef(o,n,r);if(i)return i}return null}iterateVarRefs(t,n){this.findVarRef(t,r=>(n(r),!1))}setOnRootVariableChange(t){this.onRootVariableDefined=t}putRootVars(t,n){const r=t.sheet;r.cssRules.length>0&&r.deleteRule(0);const s=new Map;Ie(document.documentElement.style,(i,c)=>{Et(i)&&(this.isVarType(i,ee)&&s.set(et(i),we(c,n)),this.isVarType(i,De)&&s.set(an(i),tt(c,n)),this.isVarType(i,Ve)&&s.set(cn(i),Ct(c,n)),this.subscribeForVarTypeChange(i,this.onRootVariableDefined))});const a=[];a.push(":root {");for(const[i,c]of s)a.push(`    ${i}: ${c};`);a.push("}");const o=a.join(`
`);r.insertRule(o)}}const B=new mi;function pi(e,t=0){const n=e.indexOf("var(",t);if(n>=0){const r=Bn(e,n+3);if(r)return{start:n,end:r.end}}return null}function bi(e){const t=[];let n=0,r;for(;r=pi(e,n);){const{start:s,end:a}=r;t.push({start:s,end:a,value:e.substring(s,a)}),n=r.end+1}return t}function Fs(e,t){const n=bi(e),r=n.length;if(r===0)return e;const s=e.length,a=n.map(i=>t(i.value,n.length)),o=[];o.push(e.substring(0,n[0].start));for(let i=0;i<r;i++){o.push(a[i]);const c=n[i].end,l=i<r-1?n[i+1].start:s;o.push(e.substring(c,l))}return o.join("")}function Us(e){const t=e.indexOf(",");let n,r;return t>=0?(n=e.substring(4,t).trim(),r=e.substring(t+1,e.length-1).trim()):(n=e.substring(4,e.length-1).trim(),r=""),{name:n,fallback:r}}function pe(e,t,n,r){return Fs(e,a=>{const{name:o,fallback:i}=Us(a),c=t(o);if(!i)return r?`var(${c}, ${r})`:`var(${c})`;let l;return xe(i)?l=pe(i,t,n):n?l=n(i):l=i,`var(${c}, ${l})`})}function Si(e,t){pe(e,n=>(t(n),n))}function et(e){return`--darkreader-bg${e}`}function an(e){return`--darkreader-text${e}`}function cn(e){return`--darkreader-border${e}`}function jr(e){return`--darkreader-bgimg${e}`}function Et(e){return e.startsWith("--")}function xe(e){return e.includes("var(")}function qr(e){return e.match(/^\s*(rgb|hsl)a?\(/)||e.match(/^(((\d{1,3})|(var\([\-_A-Za-z0-9]+\))),?\s*?){3}$/)}const yi=["color","caret-color","-webkit-text-fill-color","fill","stroke"];function ln(e){return yi.includes(e)}const Ws=/^(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})$/,Ns=/^(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})$/;function wi(e){const t=e.match(Ws)??e.match(Ns);return t?{isRaw:!0,color:`rgb(${t[1]}, ${t[2]}, ${t[3]})`}:{isRaw:!1,color:e}}function rr(e,t,n){const{isRaw:r,color:s}=wi(e),a=q(s);if(a){const o=n(a,t,!r);if(r){const i=q(o);return i?`${i.r}, ${i.g}, ${i.b}`:o}return o}return s}function we(e,t){return rr(e,t,Y)}function tt(e,t){return rr(e,t,Z)}function Ct(e,t){return rr(e,t,qe)}function Mn(e,t,n=new Set){let r=!1;const a=Fs(e,(o,i)=>{const{name:c,fallback:l}=Us(o),d=i>1?new Set(n):n;if(d.has(c))return r=!0,null;d.add(c);const h=t.get(c)||l;let S=null;return h&&(xe(h)?S=Mn(h,t,d):S=h),S||(r=!0,null)});return r?null:a}const ki=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];function xi(e){let t="";return ki.forEach(n=>{t+=`${n}:${e[n]};`}),t}const Ei=Qo();function sr(){let e=0;function t(d){let h=d.cssText;return wn(d.parentRule)&&(h=`${d.parentRule.media.mediaText} { ${h} }`),rs(h)}const n=new Set,r=new Map,s=new Set;let a=null,o=!1,i=!1;function c(){return o&&!i}function l(d){const h=d.sourceCSSRules,{theme:S,ignoreImageAnalysis:v,force:E,prepareSheet:g,isAsyncCancelled:w}=d;let u=r.size===0;const k=new Set(r.keys()),m=xi(S),y=m!==a;o&&(i=!0);const b=[];if(Ce(h,_=>{const D=t(_);let T=!1;if(k.delete(D),n.has(D)||(n.add(D),T=!0),T)u=!0;else{b.push(r.get(D));return}if(_.style.all==="revert")return;const A=[];_.style&&Ie(_.style,(x,V)=>{const U=Os(x,V,_,B,v,w);U&&A.push(U)});let P=null;if(A.length>0){const x=_.parentRule;P={selector:_.selectorText,declarations:A,parentRule:x},b.push(P)}r.set(D,P)},()=>{o=!0}),k.forEach(_=>{n.delete(_),r.delete(_)}),a=m,!E&&!u&&!y)return;e++;function C(_,D,T){const{selector:A,declarations:P}=T;let x=A;const V=Nn&&A.startsWith(":is(")&&(A.includes(":is()")||A.includes(":where()")||A.includes(":where(")&&A.includes(":-moz")),U=A.includes("::view-transition-");(V||U)&&(x=".darkreader-unsupported-selector");let O=`${x} {`;for(const z of P){const{property:j,value:H,important:K}=z;H&&(O+=` ${j}: ${H}${K?" !important":""};`)}O+=" }",_.insertRule(O,D)}const R=new Map,f=new Map;let p=0,M=0;const I={rule:null,rules:[],isGroup:!0},$=new WeakMap;function N(_){if(_==null)return I;if($.has(_))return $.get(_);const D={rule:_,rules:[],isGroup:!0};return $.set(_,D),N(_.parentRule).rules.push(D),D}s.forEach(_=>_()),s.clear(),b.filter(_=>_).forEach(({selector:_,declarations:D,parentRule:T})=>{const A=N(T),P={selector:_,declarations:[],isGroup:!1},x=P.declarations;A.rules.push(P);function V(O,z,j,H){const K=++p,Ke={property:O,value:null,important:j,asyncKey:K,sourceValue:H};x.push(Ke);const ye=e;z.then(pt=>{!pt||w()||ye!==e||(Ke.value=pt,Ei.add(()=>{w()||ye!==e||Le(K)}))})}function U(O,z,j,H){const{declarations:K,onTypeChange:Ke}=z,ye=++M,pt=e,lo=x.length;let Qe=[];if(K.length===0){const ie={property:O,value:H,important:j,sourceValue:H,varKey:ye};x.push(ie),Qe=[ie]}K.forEach(ie=>{if(ie.value instanceof Promise)V(ie.property,ie.value,j,H);else{const Ye={property:ie.property,value:ie.value,important:j,sourceValue:H,varKey:ye};x.push(Ye),Qe.push(Ye)}}),Ke.addListener(ie=>{if(w()||pt!==e)return;const Ye=ie.map(fr=>({property:fr.property,value:fr.value,important:j,sourceValue:H,varKey:ye})),uo=x.indexOf(Qe[0],lo);x.splice(uo,Qe.length,...Ye),Qe=Ye,Te(ye)}),s.add(()=>Ke.removeListeners())}D.forEach(({property:O,value:z,important:j,sourceValue:H})=>{if(typeof z=="function"){const K=z(S);K instanceof Promise?V(O,K,j,H):O.startsWith("--")?U(O,K,j,H):x.push({property:O,value:K,important:j,sourceValue:H})}else x.push({property:O,value:z,important:j,sourceValue:H})})});const G=g();function ce(){function _(T,A){const{rule:P}=T;if(wn(P)){const{media:x}=P,V=A.cssRules.length;return A.insertRule(`@media ${x.mediaText} {}`,V),A.cssRules[V]}if(Cs(P)){const{name:x}=P,V=A.cssRules.length;return A.insertRule(`@layer ${x} {}`,V),A.cssRules[V]}return A}function D(T,A,P){T.rules.forEach(x=>{if(x.isGroup){const V=_(x,A);D(x,V,P)}else P(x,A)})}D(I,G,(T,A)=>{const P=A.cssRules.length;T.declarations.forEach(({asyncKey:x,varKey:V})=>{x!=null&&R.set(x,{rule:T,target:A,index:P}),V!=null&&f.set(V,{rule:T,target:A,index:P})}),C(A,P,T)})}function Le(_){const{rule:D,target:T,index:A}=R.get(_);T.deleteRule(A),C(T,A,D),R.delete(_)}function Te(_){const{rule:D,target:T,index:A}=f.get(_);T.deleteRule(A),C(T,A,D)}ce()}return{modifySheet:l,shouldRebuildStyle:c}}let Tt=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>Tt=!0,{once:!0});const nt=new WeakSet,dn=new WeakMap;function Ci(e){return Array.isArray(e.adoptedStyleSheets)}function Ri(e){let t=!1;function n(m){e.adoptedStyleSheets.forEach(y=>{nt.has(y)||m(y),Rs(y,e)})}function r(m,y){const b=[...e.adoptedStyleSheets],C=b.indexOf(m),R=b.indexOf(y);R>=0&&b.splice(R,1),b.splice(C+1,0,y),e.adoptedStyleSheets=b}function s(){const m=[...e.adoptedStyleSheets];for(let y=m.length-1;y>=0;y--){const b=m[y];nt.has(b)&&m.splice(y,1)}e.adoptedStyleSheets.length!==m.length&&(e.adoptedStyleSheets=m),l=new WeakSet,d=new WeakSet}const a=[];function o(){a.forEach(m=>m()),a.splice(0),t=!0,s(),g&&(cancelAnimationFrame(g),g=null)}let i=0;function c(){let m=0;if(n(y=>{m+=y.cssRules.length}),m===1){const y=e.adoptedStyleSheets[0].cssRules[0];return y instanceof CSSStyleRule?y.style.length:m}return m}let l=new WeakSet,d=new WeakSet;function h(m,y){s();for(let b=e.adoptedStyleSheets.length-1;b>=0;b--){const C=e.adoptedStyleSheets[b];if(nt.has(C))continue;l.add(C);const R=dn.get(C);if(R){i=c(),r(C,R);continue}const f=C.cssRules,p=new CSSStyleSheet;dn.set(C,p),Ce(f,$=>d.add($.style));const M=()=>{for(let $=p.cssRules.length-1;$>=0;$--)p.deleteRule($);return p.insertRule("#__darkreader__adoptedOverride {}"),r(C,p),nt.add(p),p};sr().modifySheet({prepareSheet:M,sourceCSSRules:f,theme:m,ignoreImageAnalysis:y,force:!1,isAsyncCancelled:()=>t})}i=c()}let S=!1;function v(m){S||(S=!0,queueMicrotask(()=>{S=!1;const y=e.adoptedStyleSheets.filter(b=>!nt.has(b));y.forEach(b=>dn.delete(b)),m(y)}))}function E(){return c()!==i}let g=null;function w(m){g=requestAnimationFrame(()=>{Tt||(E()&&v(m),w(m))})}function u(m,y){e.addEventListener(m,y),a.push(()=>e.removeEventListener(m,y))}function k(m){const y=()=>{Tt=!0,v(m)};u("__darkreader__adoptedStyleSheetsChange",y),u("__darkreader__adoptedStyleSheetChange",y),u("__darkreader__adoptedStyleDeclarationChange",y),!Tt&&w(m)}return{render:h,destroy:o,watch:k}}class or{constructor(){this.cssRules=[],this.commands=[]}insertRule(t,n=0){return this.commands.push({type:"insert",index:n,cssText:t}),this.cssRules.splice(n,0,new or),n}deleteRule(t){this.commands.push({type:"delete",index:t}),this.cssRules.splice(t,1)}replaceSync(t){if(this.commands.splice(0),this.commands.push({type:"replace",cssText:t}),t==="")this.cssRules.splice(0);else throw new Error("StyleSheetCommandBuilder.replaceSync() is not fully supported")}getDeepCSSCommands(){const t=[];return this.commands.forEach(n=>{t.push({type:n.type,cssText:n.type!=="delete"?n.cssText:"",path:n.type==="replace"?[]:[n.index]})}),this.cssRules.forEach((n,r)=>{n.getDeepCSSCommands().forEach(a=>a.path.unshift(r))}),t}clearDeepCSSCommands(){this.commands.splice(0),this.cssRules.forEach(t=>t.clearDeepCSSCommands())}}function vi(){let e=!1;const t=new or;function n(a){const o=()=>(t.replaceSync(""),t);sr().modifySheet({prepareSheet:o,sourceCSSRules:a.cssRules,theme:a.theme,ignoreImageAnalysis:a.ignoreImageAnalysis,force:!1,isAsyncCancelled:()=>e})}function r(){const a=t.getDeepCSSCommands();return t.clearDeepCSSCommands(),a}function s(){e=!0}return{render:n,destroy:s,commands:r}}const Pe={"background-color":{customProp:"--darkreader-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkreader-inline-bgcolor"},"background-image":{customProp:"--darkreader-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkreader-inline-bgimage"},"border-color":{customProp:"--darkreader-inline-border",cssProp:"border-color",dataAttr:"data-darkreader-inline-border"},"border-bottom-color":{customProp:"--darkreader-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkreader-inline-border-bottom"},"border-left-color":{customProp:"--darkreader-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkreader-inline-border-left"},"border-right-color":{customProp:"--darkreader-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkreader-inline-border-right"},"border-top-color":{customProp:"--darkreader-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkreader-inline-border-top"},"box-shadow":{customProp:"--darkreader-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkreader-inline-boxshadow"},color:{customProp:"--darkreader-inline-color",cssProp:"color",dataAttr:"data-darkreader-inline-color"},fill:{customProp:"--darkreader-inline-fill",cssProp:"fill",dataAttr:"data-darkreader-inline-fill"},stroke:{customProp:"--darkreader-inline-stroke",cssProp:"stroke",dataAttr:"data-darkreader-inline-stroke"},"outline-color":{customProp:"--darkreader-inline-outline",cssProp:"outline-color",dataAttr:"data-darkreader-inline-outline"},"stop-color":{customProp:"--darkreader-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkreader-inline-stopcolor"}},Dn={background:{customProp:"--darkreader-inline-bg",cssProp:"background",dataAttr:"data-darkreader-inline-bg"},border:{customProp:"--darkreader-inline-border-short",cssProp:"border",dataAttr:"data-darkreader-inline-border-short"},"border-bottom":{customProp:"--darkreader-inline-border-bottom-short",cssProp:"border-bottom",dataAttr:"data-darkreader-inline-border-bottom-short"},"border-left":{customProp:"--darkreader-inline-border-left-short",cssProp:"border-left",dataAttr:"data-darkreader-inline-border-left-short"},"border-right":{customProp:"--darkreader-inline-border-right-short",cssProp:"border-right",dataAttr:"data-darkreader-inline-border-right-short"},"border-top":{customProp:"--darkreader-inline-border-top-short",cssProp:"border-top",dataAttr:"data-darkreader-inline-border-top-short"}},ar=Object.values(Pe),Vn={};ar.forEach(({cssProp:e,customProp:t})=>Vn[t]=e);const Ht=["style","fill","stop-color","stroke","bgcolor","color","background"],ft=Ht.map(e=>`[${e}]`).join(", ");function Hs(){return ar.concat(Object.values(Dn)).map(({dataAttr:t,customProp:n,cssProp:r})=>[`[${t}] {`,`  ${r}: var(${n}) !important;`,"}"].join(`
`)).concat(["[data-darkreader-inline-invert] {","    filter: invert(100%) hue-rotate(180deg);","}"]).join(`
`)}function _i(e){const t=[];return e instanceof Element&&e.matches(ft)&&t.push(e),(e instanceof Element||Jr&&e instanceof ShadowRoot||e instanceof Document)&&Gn(t,e.querySelectorAll(ft)),t}const it=new Map,Bt=new Map;function Ai(e,t){On(document,e,t),ze(document.documentElement,n=>{On(n.shadowRoot,e,t)})}function On(e,t,n){it.has(e)&&(it.get(e).disconnect(),Bt.get(e).disconnect());const r=new WeakSet;function s(g){_i(g).forEach(w=>{r.has(w)||(r.add(w),t(w))}),ze(g,w=>{r.has(g)||(r.add(g),n(w.shadowRoot),On(w.shadowRoot,t,n))}),B.matchVariablesAndDependents()}const a=ys(e,{onMinorMutations:(g,{additions:w})=>{w.forEach(u=>s(u))},onHugeMutations:()=>{s(e)}});it.set(e,a);let o=0,i=null;const c=$t({seconds:10}),l=$t({seconds:2}),d=50;let h=[],S=null;const v=qn(g=>{const w=new Set;g.forEach(u=>{const k=u.target;w.has(k)||Ht.includes(u.attributeName)&&(w.add(k),t(k))}),B.matchVariablesAndDependents()}),E=new MutationObserver(g=>{if(S){h.push(...g);return}o++;const w=Date.now();if(i==null)i=w;else if(o>=d){if(w-i<c){S=setTimeout(()=>{i=null,o=0,S=null;const u=h;h=[],v(u)},l),h.push(...g);return}i=w,o=1}v(g)});E.observe(e,{attributes:!0,attributeFilter:Ht.concat(ar.map(({dataAttr:g})=>g)),subtree:!0}),Bt.set(e,E)}function Li(){it.forEach(e=>e.disconnect()),Bt.forEach(e=>e.disconnect()),it.clear(),Bt.clear()}const un=new WeakMap,zr=new WeakSet,fn=new WeakMap,Ti=["brightness","contrast","grayscale","sepia","mode"];function Mi(e){var n,r,s;if(fn.has(e))return fn.get(e);const t=!!(e&&((n=e.getAttribute("class"))!=null&&n.includes("logo")||(s=(r=e.parentElement)==null?void 0:r.getAttribute("class"))!=null&&s.includes("logo")));return fn.set(e,t),t}function hn(e,t){return Ht.map(n=>`${n}="${e.getAttribute(n)}"`).concat(Ti.map(n=>`${n}="${t[n]}"`)).join(" ")}function Di(e,t){for(let n=0,r=t.length;n<r;n++){const s=t[n];if(e.matches(s))return!0}return!1}function Pn(e,t,n,r){var l;if(hn(e,t)===un.get(e))return;const a=new Set(Object.keys(Pe));function o(d,h,S){const v=Os(h,S,{style:e.style},B,r,null);if(!v)return;function E(k){const{customProp:m,dataAttr:y}=Pe[d]??Dn[d];e.style.setProperty(m,k),e.hasAttribute(y)||e.setAttribute(y,""),a.delete(d)}function g(k){let m=[];function y(b){m.forEach(({property:C})=>{e.style.removeProperty(C)}),b.forEach(({property:C,value:R})=>{R instanceof Promise||e.style.setProperty(C,R)}),m=b}y(k.declarations),k.onTypeChange.addListener(y)}function w(k,m){k.then(y=>{y&&d==="background"&&y.startsWith("var(--darkreader-bg--")&&E(y),y&&d==="background-image"&&((e===document.documentElement||e===document.body)&&y===m&&(y="none"),E(y)),un.set(e,hn(e,t))})}const u=typeof v.value=="function"?v.value(t):v.value;typeof u=="string"?E(u):u instanceof Promise?w(u,S):typeof u=="object"&&g(u)}if(n.length>0&&Di(e,n)){a.forEach(d=>{e.removeAttribute(Pe[d].dataAttr)});return}const i=e instanceof SVGElement,c=i?e.ownerSVGElement??(e instanceof SVGSVGElement?e:null):null;if(i&&t.mode===1&&c){if(zr.has(c))return;if(Mi(c)){zr.add(c);const d=()=>{let h=c.outerHTML;h=h.replaceAll('<style class="darkreader darkreader--sync" media="screen"></style>',"");const S=`data:image/svg+xml;base64,${btoa(h)}`;Ts(S).then(v=>{v.isDark&&v.isTransparent||v.isLarge&&v.isLight&&!v.isTransparent?c.setAttribute("data-darkreader-inline-invert",""):c.removeAttribute("data-darkreader-inline-invert")})};d(),Se()||Kn(d);return}}if(e.hasAttribute("bgcolor")){let d=e.getAttribute("bgcolor");(d.match(/^[0-9a-f]{3}$/i)||d.match(/^[0-9a-f]{6}$/i))&&(d=`#${d}`),o("background-color","background-color",d)}if((e===document.documentElement||e===document.body)&&e.hasAttribute("background")){const h=`url("${Kt(location.href,e.getAttribute("background")??"")}")`;o("background-image","background-image",h)}if(e.hasAttribute("color")&&e.rel!=="mask-icon"){let d=e.getAttribute("color");(d.match(/^[0-9a-f]{3}$/i)||d.match(/^[0-9a-f]{6}$/i))&&(d=`#${d}`),o("color","color",d)}if(i){if(e.hasAttribute("fill")){const h=e.getAttribute("fill");if(h!=="none")if(e instanceof SVGTextElement)o("fill","color",h);else{const S=()=>{const{width:v,height:E}=e.getBoundingClientRect(),g=v>32||E>32;o("fill",g?"background-color":"color",h)};Yt()?S():Qn(S)}}e.hasAttribute("stop-color")&&o("stop-color","background-color",e.getAttribute("stop-color"))}if(e.hasAttribute("stroke")){const d=e.getAttribute("stroke");o("stroke",e instanceof SVGLineElement||e instanceof SVGTextElement?"border-color":"color",d)}e.style&&Ie(e.style,(d,h)=>{if(d==="background-image"&&h.includes("url")){(e===document.documentElement||e===document.body)&&o(d,d,h);return}if(Pe.hasOwnProperty(d)||d.startsWith("--")&&!Vn[d])o(d,d,h);else if(Dn[d]&&h.includes("var("))o(d,d,h);else{const S=Vn[d];if(S&&!e.style.getPropertyValue(S)&&!e.hasAttribute(S)){if(S==="background-color"&&e.hasAttribute("bgcolor"))return;e.style.setProperty(d,"")}}}),e.style&&e instanceof SVGTextElement&&e.style.fill&&o("fill","color",e.style.getPropertyValue("fill")),(l=e.getAttribute("style"))!=null&&l.includes("--")&&B.addInlineStyleForMatching(e.style),se(a,d=>{e.removeAttribute(Pe[d].dataAttr)}),un.set(e,hn(e,t))}const Bs="theme-color",Gs=`meta[name="${Bs}"]`;let ct=null,de=null;function Kr(e,t){ct=ct||e.content;const n=q(ct);if(!n){F("Invalid meta color",n);return}e.content=Y(n,t,!1)}function Vi(e){const t=document.querySelector(Gs);t?Kr(t,e):(de&&de.disconnect(),de=new MutationObserver(n=>{e:for(let r=0;r<n.length;r++){const{addedNodes:s}=n[r];for(let a=0;a<s.length;a++){const o=s[a];if(o instanceof HTMLMetaElement&&o.name===Bs){de.disconnect(),de=null,Kr(o,e);break e}}}}),de.observe(document.head,{childList:!0}))}function Oi(){de&&(de.disconnect(),de=null);const e=document.querySelector(Gs);e&&ct&&(e.content=ct)}const Pi=/\/\*[\s\S]*?\*\//g;function js(e){return e.replace(Pi,"")}let Gt=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>Gt=!0,{once:!0});function Ii(e,t,n,r){let s=null;function a(){c(),Gt&&e.sheet||(s=$i(e,t,n,r),s.start())}let o=!1;function i(){if(Gt=!0,s==null||s.stop(),o)return;function h(){o=!1,!r()&&n()}o=!0,queueMicrotask(h)}function c(){e.addEventListener("__darkreader__updateSheet",i)}function l(){e.removeEventListener("__darkreader__updateSheet",i)}function d(){l(),s==null||s.stop()}return{start:a,stop:d}}function $i(e,t,n,r){let s=null,a=null;function o(){const d=t();return d?d.length:null}function i(){return o()!==s}function c(){s=o(),l();const d=()=>{const h=r();if(!h&&i()&&(s=o(),n()),h||Gt&&e.sheet){l();return}a=requestAnimationFrame(d)};d()}function l(){a&&cancelAnimationFrame(a)}return{start:c,stop:l}}const Fi='style, link[rel*="stylesheet" i]:not([disabled])';function Ui(e){if(!e.href)return!1;try{return new URL(e.href).hostname==="fonts.googleapis.com"}catch{return ue(`Couldn't construct ${e.href} as URL`),!1}}const Wi=["account.containerstore.com","containerstore.com","www.onet.pl"];function qs(e){return(e instanceof HTMLStyleElement||e instanceof SVGStyleElement&&!Wi.includes(location.hostname)||e instanceof HTMLLinkElement&&!!e.rel&&e.rel.toLowerCase().includes("stylesheet")&&!!e.href&&!e.disabled&&(gt?!e.href.startsWith("moz-extension://"):!0)&&!Ui(e))&&!e.classList.contains("darkreader")&&e.media.toLowerCase()!=="print"&&!e.classList.contains("stylus")}function be(e,t=[],n=!0){return qs(e)?t.push(e):(e instanceof Element||Jr&&e instanceof ShadowRoot||e===document)&&(se(e.querySelectorAll(Fi),r=>be(r,t,!1)),n&&ze(e,r=>be(r.shadowRoot,t,!1))),t}const Qr=new WeakSet,zs=new WeakSet;let Ni=0;const He=new Map;function Hi(){He.clear()}function Bi(e,{update:t,loadingStart:n,loadingEnd:r}){const s=[];let a=e;for(;(a=a.nextElementSibling)&&a.matches(".darkreader");)s.push(a);let o=s.find(x=>x.matches(".darkreader--cors")&&!zs.has(x))||null,i=s.find(x=>x.matches(".darkreader--sync")&&!Qr.has(x))||null,c=null,l=null,d=!1,h=!0;const S=()=>d,v=sr(),E=new MutationObserver(x=>{if(x.some(V=>V.type==="characterData")&&w()){const V=(e.textContent??"").trim();p(V,location.href).then(t)}else t()}),g={attributes:!0,childList:!0,subtree:!0,characterData:!0};function w(){return e instanceof HTMLStyleElement?js(e.textContent??"").trim().match(xs):!1}function u(x,V){let U=!1;if(x){let O;e:for(let z=0,j=x.length;z<j;z++)if(O=x[z],O.href)if(V){if(!O.href.startsWith("https://fonts.googleapis.com/")&&O.href.startsWith("http")&&!O.href.startsWith(location.origin)){U=!0;break e}}else{U=!0;break e}}return U}function k(){if(o)return o.sheet.cssRules;if(w())return null;const x=ce();return e instanceof HTMLLinkElement&&!Ro(e.href)&&u(x,!1)||u(x,!0)?null:(!x&&F("[getRulesSync] cssRules is null, trying again."),x)}function m(){o?(e.nextSibling!==o&&e.parentNode.insertBefore(o,e.nextSibling),o.nextSibling!==i&&e.parentNode.insertBefore(i,o.nextSibling)):e.nextSibling!==i&&e.parentNode.insertBefore(i,e.nextSibling)}function y(){i=e instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style"),i.classList.add("darkreader"),i.classList.add("darkreader--sync"),i.media="screen",e.title&&(i.title=e.title),Qr.add(i)}let b=!1,C=!1;const R=++Ni;async function f(){let x,V;if(e instanceof HTMLLinkElement){let[U,O]=N();if(O&&F(O),Pt&&!e.sheet||!Pt&&!U&&!O||G(O)){try{ue(`Linkelement ${R} is not loaded yet and thus will be await for`,e),await Gi(e,R)}catch(z){F(z),C=!0}if(d)return null;[U,O]=N(),O&&F(O)}if(U&&!u(U,!1))return U;if(x=await Ks(e.href),V=Wt(e.href),d)return null}else if(w())x=e.textContent.trim(),V=Wt(location.href);else return null;return await p(x,V),o?o.sheet.cssRules:null}async function p(x,V){var U;if(x){try{const O=await Qs(x,V);o?(((U=o.textContent)==null?void 0:U.length)??0)<O.length&&(o.textContent=O):o=qi(e,O)}catch(O){F(O)}o&&(c=yn(o,"prev-sibling"))}}function M(x){const V=k();return V?{rules:V}:x.secondRound?(F("Detected dead-lock at details(), returning early to prevent it."),null):(b||C||(b=!0,n(),f().then(U=>{b=!1,r(),U&&t()}).catch(U=>{F(U),b=!1,r()})),null)}let I=!1;function $(x,V){const U=k();if(!U)return;d=!1;function O(H){if(H)for(let K=H.cssRules.length-1;K>=0;K--)H.deleteRule(K)}function z(){i||y(),l&&l.stop(),m(),i.sheet==null&&(i.textContent="");const H=i.sheet;return O(H),l?l.run():l=yn(i,"prev-sibling",()=>{I=!0,j()}),i.sheet}function j(){const H=I;I=!1,v.modifySheet({prepareSheet:z,sourceCSSRules:U,theme:x,ignoreImageAnalysis:V,force:H,isAsyncCancelled:S}),h=i.sheet.cssRules.length===0,v.shouldRebuildStyle()&&Qn(()=>t())}j()}function N(){try{return e.sheet==null?[null,null]:[e.sheet.cssRules,null]}catch(x){return[null,x]}}function G(x){return x&&x.message&&x.message.includes("loading")}function ce(){const[x,V]=N();return V?(F(V),null):x}const Le=Ii(e,ce,t,S);function Te(){E.disconnect(),d=!0,c&&c.stop(),l&&l.stop(),Le.stop()}function _(){if(Te(),fe(o),fe(i),r(),He.has(R)){const x=He.get(R);He.delete(R),x&&x()}}function D(){E.observe(e,g),e instanceof HTMLStyleElement&&Le.start()}const T=10;let A=0;function P(){if(i){if(A++,A>T){F("Style sheet was moved multiple times",e);return}F("Restore style",i,e),m(),c&&c.skip(),l&&l.skip(),h||(I=!0,t())}}return{details:M,render:$,pause:Te,destroy:_,watch:D,restore:P}}async function Gi(e,t){return new Promise((n,r)=>{const s=()=>{e.removeEventListener("load",a),e.removeEventListener("error",o),He.delete(t)},a=()=>{s(),n()},o=()=>{s(),r(`Linkelement ${t} couldn't be loaded. ${e.href}`)};He.set(t,()=>{s(),r()}),e.addEventListener("load",a,{passive:!0}),e.addEventListener("error",o,{passive:!0}),e.href||o()})}function ji(e){return Yn(e.substring(7).trim().replace(/;$/,"").replace(/screen$/,""))}async function Ks(e){if(e.startsWith("data:"))return await(await fetch(e)).text();const t=ka(e);if(t)return t;const n=new URL(e);let r;return n.origin===location.origin?r=await bo(e,"text/css",location.origin):r=await Ls({url:e,responseType:"text",mimeType:"text/css",origin:location.origin}),wa(e,r),r}async function Qs(e,t,n=new Map){e=js(e),e=la(e),e=ia(e,t);const r=xo(xs,e);let s=null,a=!1,o=0;for(const i of r){let c;const l=s?s.offset+s.text.length:0,d=i.offset,h=e.indexOf("{",l),S=e.indexOf("}",l);if(a||h>=0&&h<d&&S>=0&&S<d)a=!0,c="";else{const v=ji(i.text),E=Kt(t,v);if(n.has(E))c=n.get(E);else try{c=await Ks(E),n.set(E,c),c=await Qs(c,Wt(E),n)}catch(g){F(g),c=""}}e=e.substring(0,i.offset+o)+c+e.substring(i.offset+i.text.length+o),o+=c.length-i.text.length,s=i}return e=e.trim(),e}function qi(e,t){if(!t)return null;const n=document.createElement("style");return n.classList.add("darkreader"),n.classList.add("darkreader--cors"),n.media="screen",n.textContent=t,e.parentNode.insertBefore(n,e.nextSibling),n.sheet.disabled=!0,zs.add(n),n}function zi(e,t){document.dispatchEvent(new CustomEvent("__darkreader__inlineScriptsAllowed"));const n=[];function r(){n.forEach(f=>f()),n.splice(0)}function s(f,p,M){document.addEventListener(f,p,M),n.push(()=>document.removeEventListener(f,p))}function a(){(()=>{var p;(p=window==null?void 0:window.WPDarkMode)!=null&&p.deactivate&&window.WPDarkMode.deactivate()})()}s("__darkreader__cleanUp",r),s("__darkreader__disableConflictingPlugins",a);function o(f,p,M){const I=f.prototype,$=Object.getOwnPropertyDescriptor(I,p);if(!$)return;const N={...$};Object.keys(M).forEach(G=>{const ce=M[G];N[G]=ce($[G])}),Object.defineProperty(I,p,N),n.push(()=>Object.defineProperty(I,p,$))}function i(f,p,M){o(f,p,{value:M})}function c(f){var p;return(p=f==null?void 0:f.classList)==null?void 0:p.contains("darkreader")}function l(f){return c(f.ownerNode)}const d=new CustomEvent("__darkreader__updateSheet"),h=new CustomEvent("__darkreader__adoptedStyleSheetChange"),S=new CustomEvent("__darkreader__shadowDomAttaching",{bubbles:!0}),v=new WeakMap,E=new WeakMap;function g(f){const p=v.get(f);p==null||p.forEach(M=>{M.isConnected?M.dispatchEvent(h):p.delete(M)})}function w(f){f.ownerNode&&!l(f)&&f.ownerNode.dispatchEvent(d),v.has(f)&&g(f)}function u(f,p){const{ownerNode:M}=f;M&&!l(f)&&p&&p instanceof Promise&&p.then(()=>M.dispatchEvent(d)),v.has(f)&&p&&p instanceof Promise&&p.then(()=>g(f))}i(CSSStyleSheet,"addRule",f=>function(p,M,I){return f.call(this,p,M,I),w(this),-1}),i(CSSStyleSheet,"insertRule",f=>function(p,M){const I=f.call(this,p,M);return w(this),I}),i(CSSStyleSheet,"deleteRule",f=>function(p){f.call(this,p),w(this)}),i(CSSStyleSheet,"removeRule",f=>function(p){f.call(this,p),w(this)}),i(CSSStyleSheet,"replace",f=>function(p){const M=f.call(this,p);return u(this,M),M}),i(CSSStyleSheet,"replaceSync",f=>function(p){f.call(this,p),w(this)}),i(Element,"attachShadow",f=>function(p){return this.dispatchEvent(S),f.call(this,p)}),(location.hostname==="baidu.com"||location.hostname.endsWith(".baidu.com"))&&i(Element,"getElementsByTagName",f=>function(p){if(p!=="style")return f.call(this,p);const M=()=>{const N=f.call(this,p);return Object.setPrototypeOf([...N].filter(G=>G&&!c(G)),NodeList.prototype)};let I=M();const $={get:function(N,G){return M()[Number(G)||G]}};return I=new Proxy(I,$),I}),["brilliant.org","www.vy.no"].includes(location.hostname)&&o(Node,"childNodes",{get:f=>function(){const p=f.call(this);return Object.setPrototypeOf([...p].filter(M=>!c(M)),NodeList.prototype)}});function y(f){customElements.whenDefined(f).then(()=>{document.dispatchEvent(new CustomEvent("__darkreader__isDefined",{detail:{tag:f}}))})}s("__darkreader__addUndefinedResolver",f=>y(f.detail.tag)),t&&i(CustomElementRegistry,"define",f=>function(p,M,I){y(p),f.call(this,p,M,I)});let b=null;function C(){if(b!=null){document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckResponse",{detail:{blobURLAllowed:b}}));return}const f='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><rect width="1" height="1" fill="transparent"/></svg>',p=new Uint8Array(f.length);for(let N=0;N<f.length;N++)p[N]=f.charCodeAt(N);const M=new Blob([p],{type:"image/svg+xml"}),I=URL.createObjectURL(M),$=new Image;$.onload=()=>{b=!0,R()},$.onerror=()=>{b=!1,R()},$.src=I}function R(){document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckResponse",{detail:{blobURLAllowed:b}}))}s("__darkreader__blobURLCheckRequest",C),e&&o(Document,"styleSheets",{get:f=>function(){const p=()=>{const N=[...f.call(this)].filter(G=>G.ownerNode&&!l(G));return N.item=G=>N[G],Object.setPrototypeOf(N,StyleSheetList.prototype)};let M=p();const I={get:function($,N){return p()[N]}};return M=new Proxy(M,I),M}});{const f=new WeakMap,p=new WeakMap,M=new CustomEvent("__darkreader__adoptedStyleSheetsChange"),I=new WeakSet,$=new WeakMap,N=_=>!_||!_.cssRules?!1:I.has(_)?!0:_.cssRules.length>0&&_.cssRules[0].cssText.startsWith("#__darkreader__adoptedOverride")?(I.add(_),!0):!1,G=(_,D)=>_.length===D.length&&_.every((T,A)=>T===D[A]),ce=_=>{const D=$.get(_),T=(_.adoptedStyleSheets||[]).filter(A=>!N(A));$.set(_,T),(!D||!G(D,T))&&(T.forEach(A=>{v.has(A)||v.set(A,new Set),v.get(A).add(_);for(const P of A.cssRules){const x=P.style;x&&E.set(x,A)}}),_.dispatchEvent(M))},Le=(_,D)=>{if(p.has(D))return D;if(f.has(D))return f.get(D);const T=new Proxy(D,{deleteProperty(A,P){return delete A[P],!0},set(A,P,x){return A[P]=x,P==="length"&&ce(_),!0}});return f.set(D,T),p.set(T,D),T};[Document,ShadowRoot].forEach(_=>{o(_,"adoptedStyleSheets",{get:D=>function(){const T=D.call(this);return Le(this,T)},set:D=>function(T){p.has(T)&&(T=p.get(T)),D.call(this,T),ce(this)}})});const Te=new CustomEvent("__darkreader__adoptedStyleDeclarationChange");["setProperty","removeProperty"].forEach(_=>{i(CSSStyleDeclaration,_,D=>function(...T){const A=D.apply(this,T),P=E.get(this);if(P){const x=v.get(P);x&&x.forEach(V=>{V.dispatchEvent(Te)})}return A})})}}const Ys=new Set,Ee=new Map;let Ae;function Ki(e){return!!(e.tagName.includes("-")||e.getAttribute("is"))}function Xs(e){let t=e.tagName.toLowerCase();if(!t.includes("-")){const n=e.getAttribute("is");if(n)t=n;else return}Ee.has(t)||(Ee.set(t,new Set),Qi(t).then(()=>{if(Ae){const n=Ee.get(t);zn("recordUndefinedElement() undefined groups should not be empty",n),Ee.delete(t),Ae(Array.from(n))}})),Ee.get(t).add(e)}function Rt(e){go&&se(e.querySelectorAll(":not(:defined)"),Xs)}let ir=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>{ir=!0},{once:!0,passive:!0});const vt=new Set;document.addEventListener("__darkreader__shadowDomAttaching",e=>{const t=e.target;vt.size===0&&queueMicrotask(()=>{const n=[...vt].filter(r=>r.shadowRoot);Ae==null||Ae(n),vt.clear()}),vt.add(t)});const Be=new Map;function Js(e){ir=!0;const t=e.detail.tag;if(zn("handleIsDefined() expects lower-case node names",()=>t.toLowerCase()===t),Ys.add(t),Be.has(t)){const n=Be.get(t);Be.delete(t),n.forEach(r=>r())}}async function Qi(e){if(zn("customElementsWhenDefined() expects lower-case node names",()=>e.toLowerCase()===e),!Ys.has(e))return new Promise(t=>{if(window.customElements&&typeof customElements.whenDefined=="function")customElements.whenDefined(e).then(()=>t());else if(ir)Be.has(e)?Be.get(e).push(t):Be.set(e,[t]),document.dispatchEvent(new CustomEvent("__darkreader__addUndefinedResolver",{detail:{tag:e}}));else{const n=()=>{const r=Ee.get(e);r&&r.size>0&&(r.values().next().value.matches(":defined")?t():requestAnimationFrame(n))};requestAnimationFrame(n)}})}function Yi(e){Ae=e}function Xi(){Ae=null,Ee.clear(),document.removeEventListener("__darkreader__isDefined",Js)}const Mt=[];let Dt,In;function Ji(e,t,n){Zs();const r=new WeakMap,s=u=>(r.has(u)||r.set(u,new Set),r.get(u));e.forEach(u=>{let k=u;for(;k=k.parentNode;)if(k===document||k.nodeType===Node.DOCUMENT_FRAGMENT_NODE){s(k).add(u);break}});const a=new WeakMap,o=new WeakMap;function i(u){a.set(u,u.previousElementSibling),o.set(u,u.nextElementSibling)}function c(u){a.delete(u),o.delete(u)}function l(u){return u.previousElementSibling!==a.get(u)||u.nextElementSibling!==o.get(u)}e.forEach(i);function d(u,k){const{createdStyles:m,removedStyles:y,movedStyles:b}=k;m.forEach(R=>i(R)),b.forEach(R=>i(R)),y.forEach(R=>c(R));const C=s(u);m.forEach(R=>C.add(R)),y.forEach(R=>C.delete(R)),m.size+y.size+b.size>0&&t({created:Array.from(m),removed:Array.from(y),moved:Array.from(b),updated:[]})}function h(u,{additions:k,moves:m,deletions:y}){const b=new Set,C=new Set,R=new Set;k.forEach(f=>be(f).forEach(p=>b.add(p))),y.forEach(f=>be(f).forEach(p=>C.add(p))),m.forEach(f=>be(f).forEach(p=>R.add(p))),d(u,{createdStyles:b,removedStyles:C,movedStyles:R}),k.forEach(f=>{w(f),Rt(f)}),k.forEach(f=>Ki(f)&&Xs(f)),k.forEach(f=>Tn(f))}function S(u){const k=new Set(be(u)),m=new Set,y=new Set,b=new Set,C=s(u);k.forEach(R=>{C.has(R)||m.add(R)}),C.forEach(R=>{k.has(R)||y.add(R)}),k.forEach(R=>{!m.has(R)&&!y.has(R)&&l(R)&&b.add(R)}),d(u,{createdStyles:m,removedStyles:y,movedStyles:b}),w(u),Rt(u),Tn(u)}function v(u){const k=new Set,m=new Set;u.forEach(y=>{const{target:b}=y;b.isConnected&&(qs(b)?k.add(b):b instanceof HTMLLinkElement&&b.disabled&&m.add(b))}),k.size+m.size>0&&t({updated:Array.from(k),created:[],removed:Array.from(m),moved:[]})}function E(u){if(Dt.has(u))return;const k=ys(u,{onMinorMutations:h,onHugeMutations:S}),m=new MutationObserver(v);m.observe(u,{attributeFilter:["rel","disabled","media","href"],subtree:!0}),Mt.push(k,m),Dt.add(u)}function g(u){const{shadowRoot:k}=u;k==null||Dt.has(k)||(E(k),n(k))}function w(u){ze(u,g)}E(document),w(document.documentElement),Yi(u=>{u=u.filter(m=>!In.has(m));const k=[];u.forEach(m=>Gn(k,be(m.shadowRoot))),t({created:k,updated:[],removed:[],moved:[]}),u.forEach(m=>{const{shadowRoot:y}=m;y!=null&&(g(m),w(y),Rt(y))}),u.forEach(m=>In.add(m))}),document.addEventListener("__darkreader__isDefined",Js),Rt(document)}function Zi(){Mt.forEach(e=>e.disconnect()),Mt.splice(0,Mt.length),Dt=new WeakSet,In=new WeakSet}function Zs(){Zi(),Xi()}function ec(e,t,n){Ji(e,t,n)}function tc(){Zs()}const cr=gs(),re=new Map,jt=[],qt=new Map,gn=new WeakMap;let L=null,W=null,eo=null,te=[],ht=[];const Fe=new Map;function Q(e,t=document.head||document){let n=t.querySelector(`.${e}`);return n?Fe.set(e,n):Fe.has(e)?n=Fe.get(e):(n=document.createElement("style"),n.classList.add("darkreader"),n.classList.add(e),n.media="screen",n.textContent="",Fe.set(e,n)),n}function nc(e,t=document.head||document){let n=t.querySelector(`.${e}`);return n||(n=document.createElement("script"),n.classList.add("darkreader"),n.classList.add(e)),n}const lt=new Map;function ke(e,t,n){lt.has(t)&&lt.get(t).stop(),lt.set(t,yn(e,"head",n))}function rc(){se(lt.values(),e=>e.stop()),lt.clear()}function sc(){const e=Q("darkreader--fallback",document);e.textContent=nr(L,{strict:!0}),document.head.insertBefore(e,document.head.firstChild),ke(e,"fallback");const t=Q("darkreader--user-agent");t.textContent=ti(L,eo,L.styleSystemControls),document.head.insertBefore(t,e.nextSibling),ke(t,"user-agent");const n=Q("darkreader--text");L.useFont||L.textStroke>0?n.textContent=_o(L):n.textContent="",document.head.insertBefore(n,e.nextSibling),ke(n,"text");const r=Q("darkreader--invert");W&&Array.isArray(W.invert)&&W.invert.length>0?r.textContent=[`${W.invert.join(", ")} {`,`    filter: ${as({...L,contrast:L.mode===0?L.contrast:ve(L.contrast-10,0,100)})} !important;`,"}"].join(`
`):r.textContent="",document.head.insertBefore(r,n.nextSibling),ke(r,"invert");const s=Q("darkreader--inline");s.textContent=Hs(),document.head.insertBefore(s,r.nextSibling),ke(s,"inline");const a=Q("darkreader--override");a.textContent=W&&W.css?no(W.css):"",document.head.appendChild(a),ke(a,"override");const o=Q("darkreader--variables"),i=L!=null&&L.selectionColor?Ps(L):null,c=Y(q("#ffffff"),L),l=Z(q("#000000"),L);o.textContent=[":root {",`   --darkreader-neutral-background: ${c};`,`   --darkreader-neutral-text: ${l};`,`   --darkreader-selection-background: ${(i==null?void 0:i.backgroundColorSelection)??"initial"};`,`   --darkreader-selection-text: ${(i==null?void 0:i.foregroundColorSelection)??"initial"};`,"}"].join(`
`),document.head.insertBefore(o,s.nextSibling),ke(o,"variables",()=>$r(o.sheet)),$r(o.sheet);const d=Q("darkreader--root-vars");document.head.insertBefore(d,o.nextSibling);const h=!(W&&W.disableStyleSheetsProxy),S=!(W&&W.disableCustomElementRegistryProxy);document.dispatchEvent(new CustomEvent("__darkreader__cleanUp"));{const v=nc("darkreader--proxy");v.append(`(${zi})(${h}, ${S})`),document.head.insertBefore(v,d.nextSibling),v.remove()}}const $n=new Set;function to(e){const t=Q("darkreader--inline",e);t.textContent=Hs(),e.insertBefore(t,e.firstChild);const n=Q("darkreader--override",e);n.textContent=W&&W.css?no(W.css):"",e.insertBefore(n,t.nextSibling);const r=Q("darkreader--invert",e);W&&Array.isArray(W.invert)&&W.invert.length>0?r.textContent=[`${W.invert.join(", ")} {`,`    filter: ${as({...L,contrast:L.mode===0?L.contrast:ve(L.contrast-10,0,100)})} !important;`,"}"].join(`
`):r.textContent="",e.insertBefore(r,n.nextSibling),$n.add(e)}function oc(e){new MutationObserver((n,r)=>{r.disconnect();for(const{type:s,removedNodes:a}of n)if(s==="childList"){for(const{nodeName:o,className:i}of a)if(o==="STYLE"&&["darkreader darkreader--inline","darkreader darkreader--override","darkreader darkreader--invert"].includes(i)){to(e);return}}}).observe(e,{childList:!0})}function Fn(e){const t=e.firstChild===null;to(e),t&&oc(e)}function no(e){return e.replace(/\${(.+?)}/g,(t,n)=>{const r=q(n);return r?hs(r.r,r.g,r.b)>.5?Y(r,L):Z(r,L):(F("Couldn't parse CSSTemplate's color."),n)})}function lr(){const e=Fe.get("darkreader--fallback")||document.querySelector(".darkreader--fallback");e&&(e.textContent="")}function ac(){oo();const t=be(document).filter(s=>!re.has(s)).map(s=>ro(s));t.map(s=>s.details({secondRound:!1})).filter(s=>s&&s.rules.length>0).forEach(s=>{B.addRulesForMatching(s.rules)}),B.matchVariablesAndDependents(),B.setOnRootVariableChange(()=>{const s=Q("darkreader--root-vars");B.putRootVars(s,L)});const n=Q("darkreader--root-vars");B.putRootVars(n,L),re.forEach(s=>s.render(L,te)),he.size===0&&lr(),t.forEach(s=>s.watch());const r=Lo(document.querySelectorAll(ft));if(ze(document.documentElement,s=>{Fn(s.shadowRoot);const a=s.shadowRoot.querySelectorAll(ft);a.length>0&&Gn(r,a)}),r.forEach(s=>Pn(s,L,ht,te)),io(document),B.matchVariablesAndDependents(),gt){const s=a=>{const{sheets:o}=a.detail;if(!Array.isArray(o)||o.length===0)return;o.forEach(({sheet:c})=>{const{cssRules:l}=c;B.addRulesForMatching(l)}),B.matchVariablesAndDependents();const i=[];o.forEach(({sheetId:c,sheet:l})=>{const d=uc(l),h=l.cssRules;d.render({theme:L,ignoreImageAnalysis:te,cssRules:h});const S=d.commands();i.push({sheetId:c,commands:S})}),Yo(dc(o[0].sheet),()=>{document.dispatchEvent(new CustomEvent("__darkreader__adoptedStyleSheetCommands",{detail:JSON.stringify(i)}))})};document.addEventListener("__darkreader__adoptedStyleSheetsChange",s),zt.push(()=>document.removeEventListener("__darkreader__adoptedStyleSheetsChange",s)),document.dispatchEvent(new CustomEvent("__darkreader__startAdoptedStyleSheetsWatcher"))}}let ic=0;const he=new Set;function ro(e){const t=++ic;function n(){if(!Se()||!bs()){he.add(t),ue(`Current amount of styles loading: ${he.size}`);const o=Q("darkreader--fallback");o.textContent||(o.textContent=nr(L,{strict:!1}))}}function r(){he.delete(t),ue(`Removed loadingStyle ${t}, now awaiting: ${he.size}`),he.size===0&&Se()&&lr()}function s(){const o=a.details({secondRound:!0});o&&(B.addRulesForMatching(o.rules),B.matchVariablesAndDependents(),a.render(L,te))}const a=Bi(e,{update:s,loadingStart:n,loadingEnd:r});return re.set(e,a),a}function so(e){const t=re.get(e);t&&(t.destroy(),re.delete(e))}const cc=qn(e=>{re.forEach(t=>t.render(L,te)),jt.forEach(t=>t.render(L,te)),e&&e()}),oo=function(){cc.cancel()};function ao(){if(he.size===0){lr();return}F("DOM is ready, but still have styles being loaded.",he)}function Yr(){ac(),fc()}function lc(){sc(),!bs()&&!L.immediateModify?ea(Yr):Yr(),Vi(L)}function io(e){if(!gt&&Ci(e)){e.adoptedStyleSheets.forEach(n=>{B.addRulesForMatching(n.cssRules)});const t=Ri(e);jt.push(t),t.render(L,te),t.watch(n=>{n.forEach(r=>{B.addRulesForMatching(r.cssRules)}),B.matchVariablesAndDependents(),t.render(L,te)})}}function dc(e){if(gn.has(e))return gn.get(e);const t=Symbol();return gn.set(e,t),t}function uc(e){let t=qt.get(e);return t||(t=vi(),qt.set(e,t)),t}function fc(){const e=Array.from(re.keys());ec(e,({created:t,updated:n,removed:r,moved:s})=>{const a=r,o=t.concat(n).concat(s).filter(l=>!re.has(l)),i=s.filter(l=>re.has(l));a.forEach(l=>so(l));const c=o.map(l=>ro(l));c.map(l=>l.details({secondRound:!1})).filter(l=>l&&l.rules.length>0).forEach(l=>{B.addRulesForMatching(l.rules)}),B.matchVariablesAndDependents(),c.forEach(l=>l.render(L,te)),c.forEach(l=>l.watch()),i.forEach(l=>re.get(l).restore())},t=>{Fn(t),io(t)}),Ai(t=>{if(Pn(t,L,ht,te),t===document.documentElement&&(t.getAttribute("style")||"").includes("--")){B.matchVariablesAndDependents();const r=Q("darkreader--root-vars");B.putRootVars(r,L)}},t=>{Fn(t);const n=t.querySelectorAll(ft);n.length>0&&se(n,r=>Pn(r,L,ht,te))}),Kn(ao)}function hc(){re.forEach(e=>e.pause()),rc(),tc(),Li(),Ss(ao),ra()}let dt,ne=null;function gc(){dt=new MutationObserver(()=>{document.querySelector('meta[name="darkreader-lock"]')&&(dt.disconnect(),dr())}),dt.observe(document.head,{childList:!0,subtree:!0})}function mc(){const e=document.createElement("meta");e.name="darkreader",e.content=cr,document.head.appendChild(e)}function pc(){return document.querySelector('meta[name="darkreader-lock"]')!=null}function bc(){const e=document.querySelector('meta[name="darkreader"]');return e?e.content!==cr:(mc(),gc(),!1)}let Sc=2;function yc({success:e,failure:t}){if(--Sc<=0){t();return}const n=document.head.querySelector('meta[name="darkreader"]');if(!n||n.content===cr)return;const r=document.createElement("meta");r.name="darkreader-lock",document.head.append(r),queueMicrotask(()=>{r.remove(),e()})}function wc(){if(document.documentElement.hasAttribute("data-wp-dark-mode-preset")){const e=()=>{document.dispatchEvent(new CustomEvent("__darkreader__disableConflictingPlugins")),document.documentElement.classList.remove("wp-dark-mode-active"),document.documentElement.removeAttribute("data-wp-dark-mode-active")};e(),new MutationObserver(()=>{(document.documentElement.classList.contains("wp-dark-mode-active")||document.documentElement.hasAttribute("data-wp-dark-mode-active"))&&e()}).observe(document.documentElement,{attributes:!0,attributeFilter:["class","data-wp-dark-mode-active"]})}}let at=null,Vt=null;function kc(e,t,n){L=e,W=t;const r=["brightness","contrast","darkSchemeBackgroundColor","darkSchemeTextColor","grayscale","lightSchemeBackgroundColor","lightSchemeTextColor","sepia"];if(at&&Vt){const a=new Set([...Object.keys(L),...Object.keys(at)]);let o=!0;for(const i of a)if(L[i]!==at[i]&&!r.includes(i)){o=!1;break}if(o&&JSON.stringify(W)!==JSON.stringify(Vt)&&(o=!1),o){const i=Ba();Ln(),i.background.forEach(c=>Y(c,L)),i.text.forEach(c=>Z(c,L)),i.border.forEach(c=>qe(c,L));return}Ln()}W?(te=Array.isArray(W.ignoreImageAnalysis)?W.ignoreImageAnalysis:[],ht=Array.isArray(W.ignoreInlineStyle)?W.ignoreInlineStyle:[]):(te=[],ht=[]),L.immediateModify&&na(()=>!0),eo=n;const s=()=>{const a=()=>{wc(),document.documentElement.setAttribute("data-darkreader-mode","dynamic"),document.documentElement.setAttribute("data-darkreader-scheme",L.mode?"dark":"dimmed"),lc()},o=()=>{dr()};pc()?fe(document.querySelector(".darkreader--fallback")):bc()?yc({success:a,failure:o}):a()};if(document.head)s();else{if(!gt){const a=Q("darkreader--fallback");document.documentElement.appendChild(a),a.textContent=nr(L,{strict:!0})}ne==null||ne.disconnect(),ne=new MutationObserver(()=>{document.head&&(ne==null||ne.disconnect(),s())}),zt.push(()=>{ne==null||ne.disconnect(),ne=null}),ne.observe(document,{childList:!0,subtree:!0})}at=L,Vt=W}function xc(){document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),fe(document.head.querySelector(".darkreader--proxy"))}const zt=[];function dr(){if(document.documentElement.removeAttribute("data-darkreader-mode"),document.documentElement.removeAttribute("data-darkreader-scheme"),Ec(),fe(document.querySelector(".darkreader--fallback")),document.head){const e=[".darkreader--user-agent",".darkreader--text",".darkreader--invert",".darkreader--inline",".darkreader--override",".darkreader--variables",".darkreader--root-vars",'meta[name="darkreader"]'];Oi(),e.forEach(t=>fe(document.head.querySelector(t))),Fe.clear(),xc()}$n.forEach(e=>{fe(e.querySelector(".darkreader--inline")),fe(e.querySelector(".darkreader--override"))}),$n.clear(),se(re.keys(),e=>so(e)),he.clear(),Hi(),se(document.querySelectorAll(".darkreader"),fe),jt.forEach(e=>e.destroy()),jt.splice(0),qt.forEach(e=>e.destroy()),qt.clear(),dt&&dt.disconnect(),zt.forEach(e=>e()),zt.splice(0)}function Ec(){B.clear(),st.clear(),ps(),oo(),hc(),gi(),Vo(),Wa(),at=null,Vt=null}let ur=!1;const Cc=(()=>{try{return window.self!==window.top}catch(e){return console.warn(e),!0}})();function Rc(e={},t=null){const n={...ns,...e};if(n.engine!==Ge.dynamicTheme)throw new Error("Theme engine is not supported.");kc(n,t,Cc),ur=!0}function vc(){return ur}function co(){dr(),ur=!1}const X=typeof matchMedia=="function"?matchMedia("(prefers-color-scheme: dark)"):void 0;let Un={themeOptions:null,fixes:null};function rt(){X!=null&&X.matches?Rc(Un.themeOptions,Un.fixes):co()}function _c(e={},t=null){e?(Un={themeOptions:e,fixes:t},rt(),wr?X==null||X.addEventListener("change",rt):X==null||X.addListener(rt)):(wr?X==null||X.removeEventListener("change",rt):X==null||X.removeListener(rt),co())}export{_c as auto,co as disable,Rc as enable,vc as isEnabled};
